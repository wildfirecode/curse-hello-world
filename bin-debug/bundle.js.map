{"version":3,"file":"Main.ts","sources":["src/core/view/adapters/AssetAdapter.ts","src/core/view/adapters/ThemeAdapter.ts","alienlib/src/support/Dispatcher.ts","alienlib/src/egret/HtmlTextParser.ts","alienlib/src/tools/Utils.ts","alienlib/src/support/EventManager.ts","alienlib/src/support/LocalStorage.ts","alienlib/src/tools/EgretUtils.ts","alienlib/src/support/StageProxy.ts","src/core/view/LoadingView.ts","alienlib/src/tools/MathUtils.ts","alienlib/src/tools/StringUtils.ts","alienlib/src/tools/ResGroupsLoader.ts","alienlib/src/tools/Ajax.ts","src/generated/LanguagePack.ts","src/core/model/Language.ts","src/core/lang.ts","alienlib/src/support/EventComponent.ts","src/core/model/events.ts","src/core/view/Toast.ts","src/core/ErrorUtils.ts","src/core/curse/Manager.ts","alienlib/src/navigator/StackNavigator.ts","alienlib/src/navigator/Navigator.ts","alienlib/src/egret/ResourceLoader.ts","src/core/curse/Scene.ts","src/core/curse/CurseScene.ts","src/core/curse/Navigator.ts","src/core/view/SceneController.ts","alienlib/src/popup/PopupEffect.ts","alienlib/src/popup/PopUpManager.ts","alienlib/src/popup/PopupBase.ts","src/core/curse/CursePanel.ts","src/core/view/PanelController.ts","src/core/MainStage.ts","src/core/Service.ts","src/game/model/events.ts","src/game/services/StorageService.ts","src/game/model/GameConfig.ts","src/game/model/GameInfo.ts","src/game/model/data-center.ts","src/game/model/constants.ts","alienlib/src/tools/md5.ts","src/core/WebService.ts","src/game/net/api.ts","src/game/services/MainService.ts","src/game/services/DefenseService.ts","src/game/model/BuriedPoint.ts","src/game/services/BuriedPointService.ts","src/game/services/BadgeService.ts","src/core/curse/CurseComponent.ts","alienlib/src/animation/wave.ts","src/game/components/Breath.ts","src/game/components/BuriedPointButton.ts","src/game/components/FadeIn.ts","src/game/components/SceneMenu.ts","src/game/components/ScenePlay.ts","src/game/components/ButtonBack.ts","alienlib/src/tools/Vector2D.ts","src/game/components/game/Ball.ts","src/game/components/GameView.ts","src/game/components/ReadyGo.ts","src/game/components/game/Target.ts","src/game/components/PanelRule.ts","src/game/components/PanelResult.ts","src/game/components/PanelAlert.ts","src/core/MainBase.ts","src/Main.ts"],"sourcesContent":["//////////////////////////////////////////////////////////////////////////////////////\n//\n//  Copyright (c) 2014-present, Egret Technology.\n//  All rights reserved.\n//  Redistribution and use in source and binary forms, with or without\n//  modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//     * Neither the name of the Egret nor the\n//       names of its contributors may be used to endorse or promote products\n//       derived from this software without specific prior written permission.\n//\n//  THIS SOFTWARE IS PROVIDED BY EGRET AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS\n//  OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n//  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n//  IN NO EVENT SHALL EGRET AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n//  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;LOSS OF USE, DATA,\n//  OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n//  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n//  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n//  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n//////////////////////////////////////////////////////////////////////////////////////\n\n\nexport default class AssetAdapter implements eui.IAssetAdapter {\n\t/**\n\t * @language zh_CN\n\t * 解析素材\n\t * @param source 待解析的新素材标识符\n\t * @param compFunc 解析完成回调函数，示例：callBack(content:any,source:string):void;\n\t * @param thisObject callBack的 this 引用\n\t */\n\tpublic getAsset(source: string, compFunc: Function, thisObject: any): void {\n\t\tfunction onGetRes(data: any): void {\n\t\t\tcompFunc.call(thisObject, data, source);\n\t\t}\n\n\t\tif (RES.hasRes(source)) {\n\t\t\tlet data = RES.getRes(source);\n\t\t\tif (data) {\n\t\t\t\tonGetRes(data);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tRES.getResAsync(source, onGetRes, this);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tRES.getResByUrl(source, onGetRes, this, RES.ResourceItem.TYPE_IMAGE);\n\t\t}\n\t}\n}\n","//////////////////////////////////////////////////////////////////////////////////////\n//\n//  Copyright (c) 2014-present, Egret Technology.\n//  All rights reserved.\n//  Redistribution and use in source and binary forms, with or without\n//  modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//     * Neither the name of the Egret nor the\n//       names of its contributors may be used to endorse or promote products\n//       derived from this software without specific prior written permission.\n//\n//  THIS SOFTWARE IS PROVIDED BY EGRET AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS\n//  OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n//  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n//  IN NO EVENT SHALL EGRET AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n//  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;LOSS OF USE, DATA,\n//  OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n//  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n//  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n//  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n//////////////////////////////////////////////////////////////////////////////////////\n\n\nexport default class ThemeAdapter implements eui.IThemeAdapter {\n\n    /**\n     * 解析主题\n     * @param url 待解析的主题url\n     * @param onSuccess 解析完成回调函数，示例：compFunc(e:egret.Event):void;\n     * @param onError 解析失败回调函数，示例：errorFunc():void;\n     * @param thisObject 回调的this引用\n     */\n    public getTheme(url: string, onSuccess: Function, onError: Function, thisObject: any): void {\n\n        function onResGet(e: string): void {\n            onSuccess.call(thisObject, e);\n        }\n        function onResError(e: RES.ResourceEvent): void {\n            if (e.resItem.url == url) {\n                RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, onResError, null);\n                onError.call(thisObject);\n            }\n        }\n\n        if (typeof generateEUI !== 'undefined') {\n            egret.callLater(() => {\n                onSuccess.call(thisObject, generateEUI);\n            }, this);\n        }\n        else if (typeof generateEUI2 !== 'undefined') {\n            RES.getResByUrl(\"resource/gameEui.json\", (data, url) => {\n                window[\"JSONParseClass\"][\"setData\"](data);\n                egret.callLater(() => {\n                    onSuccess.call(thisObject, generateEUI2);\n                }, this);\n            }, this, RES.ResourceItem.TYPE_JSON);\n        }\n        else {\n            RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, onResError, null);\n            RES.getResByUrl(url, onResGet, this, RES.ResourceItem.TYPE_TEXT);\n        }\n    }\n}\n\ndeclare var generateEUI: { paths: string[], skins: any }\ndeclare var generateEUI2: { paths: string[], skins: any }","/**\n * Created by lenovo on 2014/7/23.\n */\n\nexport class Dispatcher {\n\tstatic eventDispatcher: egret.EventDispatcher;\n\n\tstatic init(): void {\n\t\tDispatcher.eventDispatcher = new egret.EventDispatcher();\n\t}\n\n\tstatic dispatch(eventName: string, params: any = null): void {\n\t\tif (params) {\n\t\t\tDispatcher.eventDispatcher.dispatchEventWith(eventName, false, params);\n\t\t} else {\n\t\t\tDispatcher.eventDispatcher.dispatchEvent(new egret.Event(eventName));\n\t\t}\n\t}\n\n\tstatic addEventListener(eventName: string, callback: Function, thisObj: any): void {\n\t\tDispatcher.eventDispatcher.addEventListener(eventName, callback, thisObj);\n\t}\n\n\tstatic removeEventListener(eventName: string, callback: Function, thisObj: any): void {\n\t\tDispatcher.eventDispatcher.removeEventListener(eventName, callback, thisObj);\n\t}\n}\n","/**\n * Convert the text in html format to the object that can be assigned to the egret.TextField#textFlow property\n * @see http://edn.egret.com/cn/docs/page/146 Text mixed in a variety of style\n * @version Egret 2.4\n * @platform Web,Native\n * @includeExample egret/text/HtmlTextParser.ts\n * @language en_US\n */\n/**\n * 将html格式文本转换为可赋值给 egret.TextField#textFlow 属性的对象\n * @see http://edn.egret.com/cn/docs/page/146 多种样式文本混合\n * @version Egret 2.4\n * @platform Web,Native\n * @includeExample egret/text/HtmlTextParser.ts\n * @language zh_CN\n */\nexport class HtmlTextParser {\n\n\t/**\n\t * @version Egret 2.4\n\t * @platform Web,Native\n\t */\n\tconstructor() {\n\t\tthis.initReplaceArr();\n\t\tthis.initPreReplaceArr();\n\t}\n\n\tprivate replaceArr: any[] = [];\n\n\tprivate initReplaceArr(): void {\n\t\tconst arr = this.replaceArr = [];\n\t\tarr.push([/&lt;/g, \"<\"]);\n\t\tarr.push([/&gt;/g, \">\"]);\n\t\tarr.push([/&amp;/g, \"&\"]);\n\t\tarr.push([/&quot;/g, \"\\\"\"]);\n\t\tarr.push([/&apos;/g, \"\\'\"]);\n\t}\n\n\tprivate preReplaceArr: any[] = [];\n\n\tprivate initPreReplaceArr() {\n\t\tconst arr = this.preReplaceArr = [];\n\t\tarr.push([/\\\\\\\"/g, \"\\\"\"]);\n\t\tarr.push([/<br>/g, \"\\n\"]);\n\t}\n\n\t/**\n\t * @private\n\t *\n\t * @param value\n\t * @returns\n\t */\n\tprivate replaceSpecial(value: string): string {\n\t\tfor (let i = 0; i < this.replaceArr.length; i++) {\n\t\t\tlet k = this.replaceArr[i][0];\n\t\t\tlet v = this.replaceArr[i][1];\n\n\t\t\tvalue = value.replace(k, v);\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate resutlArr: Array<egret.ITextElement> = [];\n\n\t/**\n\t * Convert the text in html format to the object that can be assigned to the egret.TextField#textFlow property\n\t * @param htmltext {string} Text in html\n\t * @returns {Array<egret.ITextElement>} 可赋值给 egret.TextField#textFlow Object that can be assigned to the egret.TextField#textFlow property\n\t * @version Egret 2.4\n\t * @platform Web,Native\n\t * @language en_US\n\t */\n\t/**\n\t * 将html格式文本转换为可赋值给 egret.TextField#textFlow 属性的对象\n\t * @param htmltext {string} html文本\n\t * @returns {Array<egret.ITextElement>} 可赋值给 egret.TextField#textFlow 属性的对象\n\t * @version Egret 2.4\n\t * @platform Web,Native\n\t * @language zh_CN\n\t */\n\tpublic parse(htmltext: string): egret.ITextElement[] {\n\t\tthis.preReplaceArr.forEach(p => {\n\t\t\thtmltext = htmltext.replace(p[0], p[1]);\n\t\t});\n\n\t\tthis.stackArray = [];\n\t\tthis.resutlArr = [];\n\n\t\tlet firstIdx = 0;//文本段开始位置\n\t\tlet length: number = htmltext.length;\n\t\twhile (firstIdx < length) {\n\t\t\tlet starIdx: number = htmltext.indexOf(\"<\", firstIdx);\n\t\t\tif (starIdx < 0) {\n\t\t\t\tthis.addToResultArr(htmltext.substring(firstIdx));\n\t\t\t\tfirstIdx = length;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.addToResultArr(htmltext.substring(firstIdx, starIdx));\n\n\t\t\t\tlet fontEnd = htmltext.indexOf(\">\", starIdx);\n\t\t\t\tif (fontEnd == -1) {\n\t\t\t\t\tegret.$error(1038);\n\t\t\t\t\tfontEnd = starIdx;\n\t\t\t\t}\n\t\t\t\telse if (htmltext.charAt(starIdx + 1) == \"\\/\") {//关闭\n\t\t\t\t\tthis.stackArray.pop();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.addToArray(htmltext.substring(starIdx + 1, fontEnd));\n\t\t\t\t}\n\n\t\t\t\tfirstIdx = fontEnd + 1;\n\t\t\t}\n\t\t}\n\n\t\treturn this.resutlArr;\n\t}\n\n\tpublic parser(htmltext: string): Array<egret.ITextElement> {\n\t\treturn this.parse(htmltext);\n\t}\n\n\t/**\n\t * @private\n\t *\n\t * @param value\n\t */\n\tprivate addToResultArr(value: string): void {\n\t\tif (value == \"\") {\n\t\t\treturn;\n\t\t}\n\n\t\tvalue = this.replaceSpecial(value);\n\n\t\tif (this.stackArray.length > 0) {\n\t\t\tthis.resutlArr.push({text: value, style: this.stackArray[this.stackArray.length - 1]})\n\t\t}\n\t\telse {\n\t\t\tthis.resutlArr.push(<egret.ITextElement>{text: value});\n\t\t}\n\t}\n\n\t//将字符数据转成Json数据\n\tprivate changeStringToObject(str: string): egret.ITextStyle {\n\t\tstr = this.replaceSpecial(str.trim());\n\t\tlet info: any = {};\n\n\t\tlet header = [];\n\t\tif (str.charAt(0) == \"i\" || str.charAt(0) == \"b\" || str.charAt(0) == \"u\") {\n\t\t\tthis.addProperty(info, str, \"true\");\n\t\t}\n\t\telse if (header = str.match(/^(font|a)\\s/)) {\n\t\t\tstr = str.substring(header[0].length).trim();\n\n\t\t\tlet next: number = 0;\n\t\t\tlet titles;\n\t\t\twhile (titles = str.match(this.getHeadReg())) {\n\t\t\t\tlet title = titles[0];\n\t\t\t\tlet value = \"\";\n\t\t\t\tstr = str.substring(title.length).trim();\n\t\t\t\tif (str.charAt(0) == \"\\\"\") {\n\t\t\t\t\tnext = str.indexOf(\"\\\"\", 1);\n\t\t\t\t\tvalue = str.substring(1, next);\n\t\t\t\t\tnext += 1;\n\t\t\t\t}\n\t\t\t\telse if (str.charAt(0) == \"\\'\") {\n\t\t\t\t\tnext = str.indexOf(\"\\'\", 1);\n\t\t\t\t\tvalue = str.substring(1, next);\n\t\t\t\t\tnext += 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = str.match(/(\\S)+/)[0];\n\t\t\t\t\tnext = value.length;\n\t\t\t\t}\n\n\t\t\t\tthis.addProperty(info, title.substring(0, title.length - 1).trim(), value.trim());\n\n\t\t\t\tstr = str.substring(next).trim();\n\t\t\t}\n\t\t}\n\n\t\treturn info;\n\t}\n\n\t/**\n\t * @private\n\t *\n\t * @returns\n\t */\n\tprivate getHeadReg(): RegExp {\n\t\treturn /^(color|textcolor|strokecolor|stroke|b|bold|i|italic|u|size|fontfamily|href|target)(\\s)*=/;\n\t}\n\n\t/**\n\t * @private\n\t *\n\t * @param info\n\t * @param head\n\t * @param value\n\t */\n\tprivate addProperty(info: egret.ITextStyle, head: string, value: string): void {\n\n\t\tswitch (head.toLowerCase()) {\n\t\t\tcase \"color\":\n\t\t\tcase \"textcolor\":\n\t\t\t\tvalue = value.replace(/#/, \"0x\");\n\t\t\t\tinfo.textColor = parseInt(value);\n\t\t\t\tbreak;\n\t\t\tcase \"strokecolor\":\n\t\t\t\tvalue = value.replace(/#/, \"0x\");\n\t\t\t\tinfo.strokeColor = parseInt(value);\n\t\t\t\tbreak;\n\t\t\tcase \"stroke\":\n\t\t\t\tinfo.stroke = parseInt(value);\n\t\t\t\tbreak;\n\t\t\tcase \"b\":\n\t\t\tcase \"bold\":\n\t\t\t\tinfo.bold = value == \"true\";\n\t\t\t\tbreak;\n\t\t\tcase \"u\":\n\t\t\t\tinfo.underline = value == \"true\";\n\t\t\t\tbreak;\n\t\t\tcase \"i\":\n\t\t\tcase \"italic\":\n\t\t\t\tinfo.italic = value == \"true\";\n\t\t\t\tbreak;\n\t\t\tcase \"size\":\n\t\t\t\tinfo.size = parseInt(value);\n\t\t\t\tbreak;\n\t\t\tcase \"fontfamily\":\n\t\t\t\tinfo.fontFamily = value;\n\t\t\t\tbreak;\n\t\t\tcase \"href\":\n\t\t\t\tinfo.href = this.replaceSpecial(value);\n\t\t\t\tbreak;\n\t\t\tcase \"target\":\n\t\t\t\tinfo.target = this.replaceSpecial(value);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate stackArray: Array<egret.ITextStyle>;\n\n\t/**\n\t * @private\n\t *\n\t * @param infoStr\n\t */\n\tprivate addToArray(infoStr: string): void {\n\t\tlet info: egret.ITextStyle = this.changeStringToObject(infoStr);\n\n\t\tif (this.stackArray.length == 0) {\n\t\t\tthis.stackArray.push(info);\n\t\t}\n\t\telse {\n\t\t\tlet lastInfo: Object = this.stackArray[this.stackArray.length - 1];\n\t\t\tfor (let key in lastInfo) {\n\t\t\t\tif (info[key] == null) {\n\t\t\t\t\tinfo[key] = lastInfo[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.stackArray.push(info);\n\t\t}\n\t}\n}\n\n","/**\n * Created by rockyl on 16/3/9.\n */\n\nimport {HtmlTextParser} from '../egret/HtmlTextParser'\n\nexport function injectProp(target: Object, data: Object = null, callback: Function = null, ignoreMethod: boolean = true, ignoreNull: boolean = true): boolean {\n\tif (!target || !data) {\n\t\treturn false;\n\t}\n\n\tlet result = true;\n\tfor (let key in data) {\n\t\tlet value: any = data[key];\n\t\tif ((!ignoreMethod || typeof value != 'function') && (!ignoreNull || value != null)) {\n\t\t\tif (callback) {\n\t\t\t\tcallback(target, key, value);\n\t\t\t} else {\n\t\t\t\ttarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\nexport function getDirtyData(oldData: any, newData: any): any {\n\tlet dirtyData: any;\n\n\tfor (let key in newData) {\n\t\tif (oldData[key] != newData[key]) {\n\t\t\tif (!dirtyData) {\n\t\t\t\tdirtyData = {};\n\t\t\t}\n\t\t\tdirtyData[key] = newData[key];\n\t\t}\n\t}\n\n\treturn dirtyData;\n}\n\nexport function combineProp(...sources): any {\n\tlet ret: any = {};\n\tsources.forEach((source: any) => {\n\t\tif (!source) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let key in source) {\n\t\t\tif (source[key] !== null && source[key] !== undefined && source[key] !== '') {\n\t\t\t\tret[key] = source[key];\n\t\t\t}\n\t\t}\n\t});\n\n\treturn ret;\n}\n\nexport function clone(source: any, def: any = null, ignoreMethod: boolean = true): any {\n\tlet target: any = def ? new def() : {};\n\tthis.injectProp(target, source, null, ignoreMethod);\n\n\treturn target;\n}\n\nexport function arrToIntArr(arr: any[]): number[] {\n\tfor (let i: number = 0, li: number = arr.length; i < li; i++) {\n\t\tarr[i] = parseInt(arr[i]);\n\t}\n\n\treturn arr;\n}\n\nexport function getUrlParams(): any {\n\tlet params: any = {};\n\tlet href: string = window.location.href;\n\tlet index: number = href.indexOf(\"?\");\n\tif (index < 0) {\n\t\treturn params;\n\t}\n\n\tparams = this.parseQuery(href.substr(index + 1));\n\n\treturn params;\n}\n\nexport function parseQuery(query) {\n\tlet params: any = {};\n\tlet hashes = query.split('&');\n\tfor (let i = 0; i < hashes.length; i++) {\n\t\tlet arr: Array<string> = hashes[i].split('=');\n\t\tparams[arr[0]] = arr[1];\n\t}\n\treturn params;\n}\n\nexport function getUrlBase(): string {\n\tlet href: string = window.location.href;\n\tlet index: number = href.indexOf(\"?\");\n\treturn href.substring(0, index < 0 ? href.length : index);\n}\n\nexport function anchorCenter(target: any, width: number = 0, height: number = 0, resetPos = true): void {\n\tanchorRate(target, 0.5, 0.5, width, height, resetPos);\n}\n\nexport function anchorRate(target: any, rx: number, ry: number, width: number = 0, height: number = 0, resetPos = true): void {\n\tif (width == 0) {\n\t\twidth = target.width;\n\t}\n\tif (height == 0) {\n\t\theight = target.height;\n\t}\n\tif (resetPos) {\n\t\tif (rx == 0) {\n\t\t\ttarget.x -= target.anchorOffsetX;\n\t\t}\n\t\tif (ry == 0) {\n\t\t\ttarget.y -= target.anchorOffsetY;\n\t\t}\n\t}\n\n\ttarget.anchorOffsetX = width * rx;\n\ttarget.anchorOffsetY = height * ry;\n\n\tif (resetPos) {\n\t\tif (rx > 0) {\n\t\t\ttarget.x += target.anchorOffsetX;\n\t\t}\n\t\tif (ry > 0) {\n\t\t\ttarget.y += target.anchorOffsetY;\n\t\t}\n\t}\n}\n\n/**\n * object转成查询字符串\n * @param obj\n * @returns {string}\n */\nexport function obj2query(obj: any): string {\n\tif (!obj) {\n\t\treturn '';\n\t}\n\tlet arr: string[] = [];\n\tfor (let key in obj) {\n\t\tarr.push(key + '=' + obj[key]);\n\t}\n\treturn arr.join('&');\n}\n\nexport function parseColorTextFlow(source: string): any[] {\n\tlet statics: string[] = source.split(/\\[.*?\\]/g);\n\tlet dynamics: string[] = source.match(/\\[.*?\\]/g);\n\n\tlet ret: any[] = [];\n\tlet s;\n\tlet i = 0;\n\tlet li = statics.length - 1;\n\tfor (; i < li; i++) {\n\t\ts = statics[i];\n\n\t\tif (s) {\n\t\t\tret.push({text: s});\n\t\t}\n\t\tlet cs: string = dynamics[i];\n\t\tcs = cs.substr(1, cs.length - 2);\n\t\tlet obj: any = {};\n\t\tlet arr = cs.split('|');\n\t\tif (arr.length == 1) {\n\t\t\tobj.style = {textColor: parseInt(arr[0], 16)};\n\t\t} else {\n\t\t\tobj.text = arr[0];\n\t\t\tobj.style = {textColor: parseInt(arr[1], 16)};\n\t\t}\n\t\tret.push(obj);\n\t}\n\ts = statics[i];\n\tif (s) {\n\t\tret.push({text: s});\n\t}\n\n\treturn ret;\n}\n\nexport function scrollTo(index, itemSize, gap = 0) {\n\treturn (itemSize + gap) * index;\n}\n\nexport function getByteLen(str) {\n\treturn str.replace(/[^\\x00-\\xff]/g, '__').length;\n}\n\nexport function findArr(array, func) {\n\tlet result = null;\n\tarray.some((item) => {\n\t\tif (func(item)) {\n\t\t\tresult = item;\n\t\t\treturn true;\n\t\t}\n\t});\n\n\treturn result;\n}\n\nexport function objectValues(obj) {\n\tlet arr = [];\n\tfor (let key in obj) {\n\t\tarr.push(obj[key]);\n\t}\n\treturn arr;\n}\n\nexport function getFileName(fullName) {\n\treturn fullName.substr(0, fullName.indexOf('.'));\n}\n\nconst htmlParser:HtmlTextParser = new HtmlTextParser()\nexport function parseHtmlText(html){\n\treturn htmlParser.parse(html);\n}\n","/**\n * Created by rockyl on 16/5/19.\n *\n * 事件管理器\n */\nimport {injectProp} from \"../tools/Utils\";\n\nclass EventManager {\n\tprivate _groups: any = {};\n\n\tregister(groupName: string, target: any, eventName, callback: Function, thisObj: any, priority: number = 0): void {\n\t\tif (!target) {\n\t\t\tconsole.error('target is empty');\n\t\t}\n\n\t\tlet item: RegisterItem = new RegisterItem();\n\t\tinjectProp(item, {target, eventName, callback, thisObj, priority}, null, false);\n\n\t\tlet group: any = this._groups[groupName];\n\t\tif (!group) {\n\t\t\tgroup = this._groups[groupName] = {enable: false, items: []};\n\t\t}\n\t\tgroup.items.push(item);\n\n\t\tif (group.enable) { //如果组已生效，添加进去的就立马生效\n\t\t\tthis.addEventListener(item);\n\t\t}\n\t}\n\n\tregisterOn(obj: any, target: any, eventName, callback: Function, thisObj: any, priority: number = 0): void {\n\t\tthis.register(obj['__class__'], target, eventName, callback, thisObj, priority);\n\t}\n\n\tenable(groupName: string): void {\n\t\tlet group: any = this._groups[groupName];\n\t\tif (!group) {\n\t\t\tgroup = this._groups[groupName] = {enable: false, items: []};\n\t\t}\n\t\tif (!group.enable) {\n\t\t\tgroup.enable = true;\n\t\t\tgroup.items.forEach(this.addEventListener);\n\t\t}\n\t}\n\n\tprivate addEventListener(item: RegisterItem) {\n\t\titem.target['addEventListener'](item.eventName, item.callback, item.thisObj, false, item.priority);\n\t}\n\n\tenableOn(obj: any): void {\n\t\tthis.enable(obj['__class__']);\n\t}\n\n\tdisable(groupName: string): void {\n\t\tlet group: any = this._groups[groupName];\n\t\tif (group && group.enable) {\n\t\t\tgroup.enable = false;\n\t\t\tgroup.items.forEach(this.removeEventListener);\n\t\t}\n\t}\n\n\tprivate removeEventListener(item: RegisterItem) {\n\t\titem.target['removeEventListener'](item.eventName, item.callback, item.thisObj);\n\t}\n\n\tdisableOn(obj: any): void {\n\t\tthis.disable(obj['__class__']);\n\t}\n\n\tdump(groupName: string = null): void {\n\t\tfor (let key in this._groups) {\n\t\t\tlet group: any = this._groups[key];\n\t\t\tconsole.log(key + '[' + group.items.length + ']: ' + (group.enable ? '● enable' : '○ disable'));\n\t\t\tconsole.log(group.items.map((item: RegisterItem) => {\n\t\t\t\treturn item.eventName;\n\t\t\t}).join(','));\n\t\t}\n\t}\n}\n\nclass RegisterItem {\n\ttarget: any;\n\teventName: string;\n\tcallback: Function;\n\tthisObj: any;\n\tpriority: number;\n}\n\nconst eventManager:EventManager = new EventManager();\nexport default eventManager;\n","/**\n * Created by Rocky.L on 2015/4/22.\n */\n\nlet _ID: string;\n\nexport function init(ID: string): void {\n\t_ID = ID;\n}\n\nexport function getName(key: string, prefix: string = null): string {\n\treturn (prefix || !_ID || _ID == '' ? prefix : _ID) + '_' + key;\n}\n\nexport function getItem(key: string, prefix: string = null): string {\n\treturn egret.localStorage.getItem(getName(key, prefix));\n}\n\nexport function setItem(key: string, value: string, prefix: string = null): boolean {\n\tegret.localStorage.setItem(getName(key, prefix), value);\n\treturn true;\n}\n\nexport function getItemObj(key: string, defaultObj: any = null, prefix: string = null): any {\n\tlet result: any;\n\ttry {\n\t\tresult = JSON.parse(getItem(key, prefix));\n\t} catch (e) {\n\n\t}\n\tif (!result) {\n\t\tresult = defaultObj;\n\t}\n\treturn result;\n}\n\nexport function setItemObj(key: string, itemObj: any, prefix: string = null): boolean {\n\treturn setItem(key, JSON.stringify(itemObj), prefix);\n}\n","/**\n * Created by rockyl on 2017/1/22.\n */\n\nexport function getTweenPromise(tween: egret.Tween): Promise<any> {\n\treturn new Promise((resolve) => {\n\t\ttween.call(resolve);\n\t});\n}\n\nexport function waitPromise(duration): Promise<any> {\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, duration);\n\t});\n}\n\nexport function callLater(callback, count = 1) {\n\tcount--;\n\tegret.callLater(() => {\n\t\tif (count > 0) {\n\t\t\tthis.callLater(callback, count);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}, this);\n}\n\nexport class Bezier {\n\tprivate _onUpdate;\n\tprivate _posArr;\n\n\tconstructor(onUpdate) {\n\t\tthis._onUpdate = onUpdate;\n\t}\n\n\tinit(posArr) {\n\t\tthis._posArr = posArr;\n\t\tthis.factor = 0;\n\t}\n\n\tpublic get factor(): number {\n\t\treturn 0;\n\t}\n\n\tpublic set factor(value: number) {\n\t\tlet p = this._posArr;\n\t\tlet x = (1 - value) * (1 - value) * p[0].x + 2 * value * (1 - value) * p[1].x + value * value * p[2].x;\n\t\tlet y = (1 - value) * (1 - value) * p[0].y + 2 * value * (1 - value) * p[1].y + value * value * p[2].y;\n\n\t\tthis._onUpdate({x, y});\n\t}\n}\n\nexport function enumChildren(container: egret.DisplayObjectContainer, callback: Function): void {\n\tfor (let i = 0, li = container.numChildren; i < li; i++) {\n\t\tif (callback(container.getChildAt(i), i)) {\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nexport function removeChildren(container: egret.DisplayObjectContainer, callback: Function): void {\n\tlet i = 0;\n\twhile (container.numChildren > 0) {\n\t\tcallback(container.removeChildAt(0), i);\n\t\ti++;\n\t}\n}\n\nexport function getDisplayPath(target) {\n\tlet arr = [];\n\tlet temp = target;\n\tdo {\n\t\tarr.unshift(temp.parent.getChildIndex(temp));\n\t} while ((temp = temp.parent) && temp.parent);\n\n\treturn arr;\n}\n\nexport function getTargetByPath(root, link) {\n\tlet target: any = root;\n\tfor (let i = 0, li = link.length; i < li; i++) {\n\t\ttry {\n\t\t\ttarget = target.getChildAt(link[i]);\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn target;\n}\n","/**\n * Created by rockyl on 16/3/9.\n */\n\nlet _stage: egret.Stage;\nlet _root: egret.DisplayObjectContainer;\n\nlet lastTouchPos: any = {};\nlet autoAdjustTargets: egret.DisplayObject[];\n\nexport function init(stage: egret.Stage, root: egret.DisplayObjectContainer): void {\n\t_stage = stage;\n\t_root = root;\n\n\tstage.addEventListener(egret.TouchEvent.TOUCH_END, function (event: egret.TouchEvent): void {\n\t\tlastTouchPos.x = event.stageX;\n\t\tlastTouchPos.y = event.stageY;\n\t}, this);\n\n\tautoAdjustTargets = [];\n\tstage.addEventListener(egret.Event.RESIZE, onStageResize, this);\n}\n\nfunction onStageResize(event: egret.Event = null): void {\n\tconst {width, height} = getSize();\n\t//console.log(`resize stage: (${width}, ${height})`);\n\tautoAdjustTargets.forEach((child: egret.DisplayObject) => {\n\t\tchild.width = width;\n\t\tchild.height = height;\n\t});\n}\n\nexport function getStage() {\n\treturn _stage;\n}\n\nexport function getWidth(): number {\n\treturn _stage.stageWidth;\n}\n\nexport function getHeight(): number {\n\treturn _stage.stageHeight;\n}\n\nexport function getSize(): any {\n\treturn {\n\t\twidth: getWidth(),\n\t\theight: getHeight(),\n\t};\n}\n\nexport function getCenter(): any {\n\tconst {width, height} = getSize();\n\treturn {\n\t\tx: width / 2,\n\t\ty: height / 2\n\t}\n}\n\nexport function registerAutoAdjust(target: egret.DisplayObject): void {\n\tlet index = autoAdjustTargets.indexOf(target);\n\tif (index < 0) {\n\t\tautoAdjustTargets.push(target);\n\t}\n\tonStageResize();\n}\n\nexport function unregisterAutoAdjust(target: egret.DisplayObject): void {\n\tlet index = autoAdjustTargets.indexOf(target);\n\tif (index >= 0) {\n\t\tautoAdjustTargets.splice(index, 1);\n\t}\n}\n","/**\n * Created by rockyl on 2018/8/27.\n *\n * 加载视图\n */\nimport {Dispatcher} from \"@alienlib/support\";\n\nexport default class LoadingView extends eui.Component implements RES.PromiseTaskReporter {\n\tprivate static _instance:LoadingView;\n\tpublic static get instance():LoadingView {\n\t\tif (this._instance == undefined) {\n\t\t\tthis._instance = new LoadingView();\n\t\t}\n\t\treturn this._instance;\n\t}\n\t\n\tpublic progressBar: eui.ProgressBar;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.percentWidth = this.percentHeight = 100;\n\t\tthis.skinName = LoadingViewSkin;\n\n\t\tthis.onProgress(0, 100);\n\n\t\tDispatcher.addEventListener('RES_LOAD_PROGRESS', function(e){\n\t\t\tconst {current, total} = e.data;\n\t\t\t\n\t\t\tthis.setProgress(current/total);\n\t\t}, this)\n\t}\n\n\tpublic setProgress(process, immediately: boolean = false){\n\t\tlet d = this.progressBar.slideDuration;\n\t\tif(immediately){\n\t\t\tthis.progressBar.slideDuration = 0;\n\t\t}\n\t\tthis.progressBar.value = Math.floor(process * 100);\n\t\tif(immediately){\n\t\t\tthis.progressBar.slideDuration = d;\n\t\t}\n\t}\n\n\tpublic onProgress(current: number, total: number): void {\n\t\tthis.setProgress(current/total);\n\t}\n\n\tsetState(state){\n\t\tthis.currentState = state;\n\t}\n}\n","/**\n * Created by rockyl on 16/3/9.\n */\n\n/**\n * 计算距离\n * @param p1\n * @param p2\n * @returns {number}\n */\nexport function distancePoint(p1: any, p2: any): number {\n\treturn distance(p1.x, p1.y, p2.x, p2.y);\n}\n\n/**\n * 计算距离\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @returns {number}\n */\nexport function distance(x1: number, y1: number, x2: number, y2: number): number {\n\treturn Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n}\n\nexport function centerPoint(p1: any, p2: any) {\n\treturn {\n\t\tx: Math.min(p1.x, p2.x) + Math.abs(p1.x - p2.x) / 2,\n\t\ty: Math.min(p1.y, p2.y) + Math.abs(p1.y - p2.y) / 2,\n\t}\n}\n\n/**\n * 计算两点直线的弧度\n * @param p1\n * @param p2\n * @returns {number}\n */\nexport function radian(p1: any, p2: any): number {\n\tif(p2.y == p1.y || p2.x == p1.x){\n\t\treturn NaN;\n\t}\n\treturn Math.atan2(p2.y - p1.y, p2.x - p1.x);\n}\n\n/**\n * 计算两点直线的角度\n * @param p1\n * @param p2\n * @returns {number}\n */\nexport function angle(p1: any, p2: any): number {\n\tconst r = radian(p1, p2);\n\tif(isNaN(r)){\n\t\treturn r;\n\t}\n\treturn radiusToAngle(r);\n}\n\n/**\n * 获取一个随机整数\n * @param max\n * @param min\n * @returns {number}\n */\nexport function makeRandomInt(max: number, min: number = 0): number {\n\treturn Math.floor(Math.random() * (max - min)) + min;\n}\n\n/**\n * 获取一个随机浮点数\n * @param max\n * @param min\n * @returns {number}\n */\nexport function makeRandomFloat(max: number, min: number = 0): number {\n\treturn Math.random() * (max - min) + min;\n}\n\n/**\n * 生成一个基于value的range偏移的随机数\n * @param value\n * @param range\n * @returns {number}\n */\nexport function makeRandomByRange(value: number, range: number): number {\n\treturn value + (Math.random() * range * 2 - range);\n}\n\n/**\n * 生成一个随机整数数组\n * @param len\n * @param max\n * @param min\n * @returns {string}\n */\nexport function makeRandomIntArr(len: number, max: number, min: number = 0): number[] {\n\tlet target: number[] = [];\n\tfor (let i: number = 0; i < len; i++) {\n\t\ttarget.push(makeRandomInt(max));\n\t}\n\n\treturn target;\n}\n\n/**\n * 生成一个范围数组\n * @param to\n * @param from\n * @param step\n * @returns {Array<number>}\n */\nexport function makeOrderIntArray(to: number, from: number = 0, step: number = 1): Array<number> {\n\tlet result: Array<number> = [];\n\tfor (let i: number = from; i <= to; i += step) {\n\t\tresult.push(i);\n\t}\n\n\treturn result;\n}\n\n/**\n * 打乱一个数组\n * @param arr\n * @returns {any}\n */\nexport function mixArray(arr: any): Array<any> {\n\tfor (let i: number = 0, len: number = Math.round(arr.length / 2); i < len; i++) {\n\t\tlet a: number = makeRandomInt(arr.length);\n\t\tlet b: number = makeRandomInt(arr.length);\n\t\tlet temp = arr[a];\n\t\tarr[a] = arr[b];\n\t\tarr[b] = temp;\n\t}\n\n\treturn arr;\n}\n\n/**\n * 打乱一个二维数组\n * @param arr\n * @returns {Array<Array<any>>}\n */\nexport function mixArray2(arr: Array<Array<any>>): Array<Array<any>> {\n\tlet cH: number = arr[0].length;\n\tlet cV: number = arr.length;\n\tlet pos0: number[];\n\tlet pos1: number[];\n\tfor (let i: number = 0, len: number = Math.round(cH * cV / 2); i < len; i++) {\n\t\tpos0 = [makeRandomInt(cH), makeRandomInt(cV)];\n\t\tpos1 = [makeRandomInt(cH), makeRandomInt(cV)];\n\t\tlet temp = arr[pos0[0]][pos0[1]];\n\t\tarr[pos0[0]][pos0[1]] = arr[pos1[0]][pos1[1]];\n\t\tarr[pos1[0]][pos1[1]] = temp;\n\t}\n\n\treturn arr;\n}\n\n/**\n * 随机从一个数组中取出一项\n * @param arr\n * @param del\n * @returns {*}\n */\nexport function getRandomFromArray(arr: any, del = false): any {\n\tlet index = makeRandomInt(arr.length);\n\tlet item = arr[index];\n\tif (del) {\n\t\tarr.splice(index, 1);\n\t}\n\n\treturn item;\n}\n\n/**\n * 根据范围阻隔\n * @param value\n * @param lower\n * @param upper\n * @returns {number}\n */\nexport function fixRange(value: number, lower: number, upper: number): number {\n\tif (value < lower) {\n\t\tvalue = lower;\n\t} else if (value > upper) {\n\t\tvalue = upper;\n\t}\n\n\treturn value;\n}\n\n/**\n * 根据范围补足\n * @param value\n * @param max\n * @param min\n * @returns {number}\n */\nexport function roundFix(value: number, max: number, min: number = 0): number {\n\tif (value < min) {\n\t\tvalue += max - min;\n\t} else if (value >= max) {\n\t\tvalue -= max - min;\n\t}\n\n\treturn value;\n}\n\n/**\n * 弧度转角度\n * @param radius\n * @returns {number}\n */\nexport function radiusToAngle(radius: number): number {\n\treturn radius * 180 / Math.PI;\n}\n\n/**\n * 角度转弧度\n * @param angle\n * @returns {number}\n */\nexport function angleToRadius(angle: number): number {\n\treturn angle * Math.PI / 180;\n}\n\n/**\n * 数组向右旋转\n * @param arr\n * @returns {Array}\n */\nexport function turnRight(arr) {\n\tlet temp = [];\n\tfor (let t = 0, tl = arr.length; t < tl; t++) {\n\t\ttemp.push([]);\n\t}\n\tfor (let i = 0, il = arr.length; i < il; i++) {\n\t\tfor (let j = 0, jl = arr[i].length; j < jl; j++) {\n\t\t\ttemp[i][j] = arr[jl - j - 1][i];\n\t\t}\n\t}\n\treturn temp;\n}\n\n/**\n * 数组向左旋转\n * @param arr\n * @returns {Array}\n */\nexport function turnLeft(arr) {\n\tlet temp = [];\n\tfor (let t = 0, tl = arr.length; t < tl; t++) {\n\t\ttemp.push([]);\n\t}\n\tfor (let i = 0, il = arr.length; i < il; i++) {\n\t\tfor (let j = 0, jl = arr[i].length; j < jl; j++) {\n\t\t\ttemp[i][j] = arr[j][jl - i - 1];\n\t\t}\n\t}\n\treturn temp;\n}\n\n/**\n * 根据两点计算量化方向,用于手势识别\n * @param x0\n * @param y0\n * @param x1\n * @param y1\n * @returns {number}\n */\nexport function calDir(x0: number, y0: number, x1: number, y1: number): number {\n\tif (x0 == x1 && y0 == y1) {\n\t\treturn -1;\n\t}\n\n\tlet r: number = Math.atan2(y1 - y0, x1 - x0);\n\tlet d: number;\n\tif (Math.abs(r) < Math.PI / 4) {\n\t\td = 0;\n\t} else if (Math.abs(r) > Math.PI / 4 * 3) {\n\t\td = 2;\n\t} else if (r > 0) {\n\t\td = 1;\n\t} else {\n\t\td = 3;\n\t}\n\treturn d;\n}\n\n/**\n * 数值正负计算\n * @param num\n * @returns {number}\n */\nexport function sign(num: number): number {\n\treturn num == 0 ? 0 : (num > 0 ? 1 : -1);\n}\n\n/**\n * 把一个正整数分割成若干个整数\n * @param total\n * @param count\n * @returns {Array}\n */\nexport function split(total, count) {\n\tlet result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tresult[i] = 0;\n\t}\n\tfor (let i = 0; i < total; i++) {\n\t\tresult[makeRandomInt(count)]++;\n\t}\n\treturn result;\n}\n\n/**\n * 贝塞尔曲线\n * @param points\n * @param t\n */\nexport function getBezier(points, t) {\n\tlet result = {x: 0, y: 0}, temp, n = points.length - 1;\n\tfor (let i = 0; i <= n; i++) {\n\t\ttemp = Math.pow(1 - t, n - i) * Math.pow(t, i) * (i == 0 || i == n ? 1 : n);\n\t\tresult.x += points[i].x * temp;\n\t\tresult.y += points[i].y * temp;\n\t}\n\n\treturn result;\n}\n\nexport function pointInPolygon(points: any[], point: any) {\n\tlet polySides = points.length, i, j = polySides - 1;\n\tlet oddNodes = false;\n\n\tlet x = point.x, y = point.y;\n\n\tfor (i = 0; i < polySides; i++) {\n\t\tlet ix = points[i].x;\n\t\tlet iy = points[i].y;\n\t\tlet jx = points[j].x;\n\t\tlet jy = points[j].y;\n\t\tif ((iy < y && jy >= y\n\t\t\t|| jy < y && iy >= y)\n\t\t\t&& (ix <= x || jx <= x)) {\n\t\t\tif (ix + (y - iy) / (jy - iy) * (jx - ix) < x) {\n\t\t\t\toddNodes = !oddNodes;\n\t\t\t}\n\t\t}\n\t\tj = i;\n\t}\n\n\treturn oddNodes;\n}\n\nexport function intersectToPolygon(points: any[], intersect: any[]) {\n\tlet aa = intersect[0];\n\tlet bb = intersect[1];\n\n\tlet cc, dd;\n\n\tlet result = false;\n\tfor (let i = 0, li = points.length; i < li; i++) {\n\t\tcc = points[i];\n\t\tif (i == li - 1) {\n\t\t\tdd = points[0];\n\t\t} else {\n\t\t\tdd = points[i + 1];\n\t\t}\n\n\t\tif (intersectToIntersect(aa, bb, cc, dd)) {\n\t\t\tresult = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function intersectToIntersect(aa, bb, cc, dd) {\n\tlet delta = determinant(bb.x - aa.x, cc.x - dd.x, bb.y - aa.y, cc.y - dd.y);\n\tif (delta <= (1e-6) && delta >= -(1e-6)) {\n\t\treturn false;\n\t}\n\tlet namenda = determinant(cc.x - aa.x, cc.x - dd.x, cc.y - aa.y, cc.y - dd.y) / delta;\n\tif (namenda > 1 || namenda < 0) {\n\t\treturn false;\n\t}\n\tlet miu = determinant(bb.x - aa.x, cc.x - aa.x, bb.y - aa.y, cc.y - aa.y) / delta;\n\tif (miu > 1 || miu < 0) {\n\t\treturn false;\n\t}\n\treturn true;\n\n\tfunction determinant(v1, v2, v3, v4) {\n\t\treturn (v1 * v3 - v2 * v4);\n\t}\n}\n\nexport function segmentsIntr(a, b, c, d) {\n\tlet area_abc = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x);\n\tlet area_abd = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x);\n\n\tif (area_abc * area_abd >= 0) {\n\t\treturn false;\n\t}\n\n\tlet area_cda = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x);\n\tlet area_cdb = area_cda + area_abc - area_abd;\n\tif (area_cda * area_cdb >= 0) {\n\t\treturn false;\n\t}\n\n\tlet t = area_cda / (area_abd - area_abc);\n\tlet dx = t * (b.x - a.x),\n\t\tdy = t * (b.y - a.y);\n\treturn {x: a.x + dx, y: a.y + dy};\n}\n\nexport function isNullArray(arr) {\n\tlet result = true;\n\tarr.some(item => {\n\t\tif (item !== undefined && item !== null) {\n\t\t\tresult = false;\n\n\t\t\treturn true;\n\t\t}\n\t});\n\n\treturn result;\n}\n\nexport function valueRange(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nexport function lineHitTest(l0, l1) {\n\treturn l0.a < l1.b && l0.b > l1.a;\n}\n","/**\n * Created by rockyl on 16/3/9.\n */\nimport {makeRandomInt} from \"./MathUtils\";\n\nconst chars: string = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\nexport function makeRandomString(len: number): string {\n\tlet s: string = \"\";\n\tlet cl: number = this.chars.length;\n\tfor (let i: number = 0; i < len; i++) {\n\t\ts += this.chars.charAt(makeRandomInt(cl));\n\t}\n\n\treturn s;\n}\n\nexport function makeRandomIntString(len: number): string {\n\tlet s: string = \"\";\n\tfor (let i: number = 0; i < len; i++) {\n\t\ts += makeRandomInt(10);\n\t}\n\n\treturn s;\n}\n\nexport function stringCut(str: string, len: number, fill: string = '...'): string {\n\tlet result: string = str;\n\tif (str.length > len) {\n\t\tresult = str.substr(0, len) + fill;\n\t}\n\treturn result;\n}\n\nexport function fixed(num, count) {\n\tlet p = Math.pow(10, count);\n\tlet result = ((Math.floor(num) * p + Math.floor(num * p % p) / p * p) / p).toString();\n\tlet dotIndex = result.indexOf('.');\n\treturn result + (dotIndex < 0 ? '.00' : repeat('0', count - (result.length - dotIndex - 1)));\n}\n\nconst zeros: Array<string> = [\n\t\"0\",\n\t\"00\",\n\t\"000\",\n\t\"0000\",\n\t\"00000\",\n\t\"000000\",\n\t\"0000000\",\n\t\"00000000\",\n\t\"000000000\",\n\t\"0000000000\"\n];\n\nexport function supplement(value: number, count: number): string {\n\tlet index = count - value.toString().length - 1;\n\tif (index < 0) {\n\t\treturn value.toString();\n\t}\n\treturn this.zeros[index] + value;\n}\n\nexport function format(formatStr: string, ...params): string {\n\treturn this.formatApply(formatStr, params);\n}\n\nexport function formatApply(formatStr: string, params: any[]): string {\n\tlet result: string = formatStr;\n\tfor (let i = 0, len = params.length; i < len; i++) {\n\t\tlet reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", 'g');\n\t\tresult = result.replace(reg, params[i]);\n\t}\n\n\treturn result;\n}\n\n/**\n *\n * @param string\n * @param cutSize\n * @returns {Array}\n */\nexport function splitBySize(string, cutSize) {\n\tlet result = [];\n\tfor (let i = 0, li = Math.ceil(string.length / cutSize); i < li; i++) {\n\t\tresult.push(string.substr(i * cutSize, cutSize));\n\t}\n\n\treturn result;\n}\n\nexport function repeat(string, count) {\n\tlet result = '';\n\tfor (let i = 0; i < count; i++) {\n\t\tresult += string;\n\t}\n\treturn result;\n}\n\nexport function trim(str) {\n\treturn str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n}\n\nexport function join(arr, str, lineLimit = 0) {\n\tif (arr && arr.length > 0) {\n\t\tif (lineLimit > 0) {\n\t\t\tlet result = '';\n\t\t\tfor (let i = 0, li = arr.length; i < li; i++) {\n\t\t\t\tresult += arr[i] + (i < li - 1 ? ((i + 1) % lineLimit == 0 ? '\\n' : str) : '');\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} else {\n\t\t\treturn arr.join(str);\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n","/**\n * Created by rockyl on 2017/1/22.\n */\n\nexport function checkNeedLoad(resGroupNames: string[]): boolean {\n\tlet needLoad = false;\n\tfor (let i = 0, li = resGroupNames.length; i < li; i++) {\n\t\tif (!RES.isGroupLoaded(resGroupNames[i])) {\n\t\t\tneedLoad = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn needLoad;\n}\n\nexport async function loadResGroups(resGroupNames: string[], progressCallback: Function = null): Promise<any> {\n\tlet loaded = 0;\n\n\tconst resLoadReporter = new ResLoadReporter(function (current, total) {\n\t\tprogressCallback && progressCallback(++loaded, total);\n\t});\n\n\tconst total = resGroupNames.reduce((p, c) => {\n\t\treturn p + (RES.isGroupLoaded(c) ? 0 : RES.getGroupByName(c).length);\n\t}, 0);\n\n\tfor (let i = 0, li = resGroupNames.length; i < li; i++) {\n\t\tif (!RES.isGroupLoaded(resGroupNames[i])) {\n\t\t\tawait RES.loadGroup(resGroupNames[i], 0, resLoadReporter);\n\t\t}\n\t}\n}\n\nclass ResLoadReporter implements RES.PromiseTaskReporter {\n\tprogressCallback;\n\n\tconstructor(progressCallback) {\n\t\tthis.progressCallback = progressCallback;\n\t}\n\n\tonProgress(current: number, total: number) {\n\t\tthis.progressCallback(current, total)\n\t}\n}\n","/**\n * Created by rockyl on 15/12/24.\n *\n * Ajax异步请求\n */\nimport {obj2query} from \"./Utils\";\n\nexport function callNet(url: string, params: any = null, method: string = egret.HttpMethod.GET, header: any = null, parseUrl: Function = null, parseBody: Function = null): Promise<string> {\n\treturn new Promise((resolve, reject) => {\n\t\tlet finalUrl: string = parseUrl ? parseUrl() : url;\n\n\t\tlet request: egret.HttpRequest = new egret.HttpRequest();\n\t\trequest.responseType = egret.HttpResponseType.TEXT;\n\n\t\trequest.addEventListener(egret.Event.COMPLETE, function (event: egret.Event): void {\n\t\t\tresolve(request.response);\n\t\t}, this);\n\t\trequest.addEventListener(egret.IOErrorEvent.IO_ERROR, function (event: egret.Event): void {\n\t\t\treject(new Error('request error.'));\n\t\t}, this);\n\t\trequest.open(finalUrl, method);\n\n\t\tfor (let k in header) {\n\t\t\trequest.setRequestHeader(k, header[k]);\n\t\t}\n\n\t\tlet data: any = null;\n\t\tif (parseBody) {\n\t\t\tdata = parseBody();\n\t\t} else {\n\t\t\trequest.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\tdata = obj2query(params);\n\t\t}\n\t\ttry {\n\t\t\tif (data) {\n\t\t\t\trequest.send(data);\n\t\t\t} else {\n\t\t\t\trequest.send();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treject(e);\n\t\t}\n\t});\n}\n\nexport function GET(url: string, params: any = null, header: any = null): Promise<string> {\n\treturn this.callNet(url, params, egret.HttpMethod.GET, header, (): string => {\n\t\tif (params) {\n\t\t\tlet data = obj2query(params);\n\t\t\turl += (data.length > 0 && url.indexOf('?') < 0 ? '?' : '') + data;\n\t\t}\n\t\treturn url;\n\t}, () => null);\n}\n\nexport function POST(url: string, params: any = null, header: any = null): Promise<string> {\n\treturn this.callNet(url, params, egret.HttpMethod.POST, header);\n}\n\nexport function POSTDirectory(url: string, params: any = null, header: any = null): Promise<string> {\n\treturn this.callNet(url, params, egret.HttpMethod.POST, header, null, (): any => {\n\t\treturn params\n\t});\n}\n\nexport function JSONP(url, params, method = 'get') {\n\tlet ts = Math.floor(Date.now() / 1000);\n\turl += (url.indexOf('?') < 0 ? '?' : '') + '_=' + ts;\n\n\treturn new Promise((resolve, reject) => {\n\t\t$.ajax({\n\t\t\ttype: method,\n\t\t\turl,\n\t\t\tdataType: 'jsonp',\n\t\t\tdata: params,\n\t\t\tasync: true,\n\t\t\tsuccess: (result) => {\n\t\t\t\tresolve(result);\n\t\t\t},\n\t\t\terror: (message) => {\n\t\t\t\treject(message);\n\t\t\t}\n\t\t});\n\t});\n}\n","export class LanguagePack{\n\tneed_login:string;\n\tnet_error:string;\n\tcurrent_score:string;\n\tmax_score:string;\n\tscore_unit:string;\n\tfree:string;\n\tmy_credit:string;\n\tno_more_credits:string;\n\trevive_cost:string;\n\trevive_failed:string;\n\trank_first:string;\n\trank_second:string;\n\trank_third:string;\n\trank_num:string;\n\trank_out:string;\n\tme:string;\n\trank_max_score:string;\n\trank_reward_content:string;\n\tresult_text:string;\n}\nexport class LanguageIds{\n\tneed_login:string = 'need_login';\n\tnet_error:string = 'net_error';\n\tcurrent_score:string = 'current_score';\n\tmax_score:string = 'max_score';\n\tscore_unit:string = 'score_unit';\n\tfree:string = 'free';\n\tmy_credit:string = 'my_credit';\n\tno_more_credits:string = 'no_more_credits';\n\trevive_cost:string = 'revive_cost';\n\trevive_failed:string = 'revive_failed';\n\trank_first:string = 'rank_first';\n\trank_second:string = 'rank_second';\n\trank_third:string = 'rank_third';\n\trank_num:string = 'rank_num';\n\trank_out:string = 'rank_out';\n\tme:string = 'me';\n\trank_max_score:string = 'rank_max_score';\n\trank_reward_content:string = 'rank_reward_content';\n\tresult_text:string = 'result_text';\n}","/**\n * Created by admin on 2017/6/30.\n */\nimport {StringUtils, Utils} from \"@alienlib/tools\";\nimport {LanguageIds, LanguagePack} from \"../../generated/LanguagePack\";\n\nexport default class Language extends LanguagePack{\n\tpublic ids:LanguageIds;\n\tpublic htmlParser:egret.HtmlTextParser;\n\n\tconstructor(){\n\t\tsuper();\n\n\t\tthis.ids = new LanguageIds();\n\n\t\tthis.htmlParser = new egret.HtmlTextParser();\n\t}\n\n\tinitData(){\n\t\tUtils.injectProp(this, RES.getRes('lang'));\n\t}\n\n\tformat(template, ...params){\n\t\treturn StringUtils.formatApply(template, params);\n\t}\n\n\tformatHtml(template, ...params){\n\t\treturn this.htmlParser.parse(StringUtils.formatApply(template, params));\n\t}\n}","/**\n * Created by rockyl on 2018/9/12.\n */\n\nimport Language from \"./model/Language\";\n\nconst lang: Language = new Language();\n\nexport default lang;\n","/**\n * Created by admin on 2017/6/23.\n */\nimport {eventManager} from \"./\";\n\nexport class EventComponent extends eui.Component {\n\tprivate get eventGroupName() {\n\t\treturn this['__class__'] + '_' + this.hashCode;\n\t}\n\n\tregisterEvent(target: any, eventName: any, callback: Function, thisObj: any, priority: number = 0): void {\n\t\teventManager.register(this.eventGroupName, target, eventName, callback, thisObj, priority);\n\t}\n\n\tenableEvents() {\n\t\teventManager.enable(this.eventGroupName);\n\t}\n\n\tdisableEvents() {\n\t\teventManager.disable(this.eventGroupName);\n\t}\n}\n\nexport class VisualEventComponent extends EventComponent {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddedToStage, this);\n\t\tthis.addEventListener(egret.Event.REMOVED_FROM_STAGE, this.onRemovedFromStage, this);\n\t}\n\n\tprotected onAddedToStage(event: egret.Event): void {\n\t\tthis.enableEvents();\n\t}\n\n\tprotected onRemovedFromStage(event: egret.Event): void {\n\t\tthis.disableEvents();\n\t}\n}\n\nexport class VisualEventItemRenderer extends eui.ItemRenderer {\n\tprivate get eventGroupName() {\n\t\treturn this['__class__'] + '_' + this.hashCode;\n\t}\n\n\tregisterEvent(target: any, eventName: any, callback: Function, thisObj: any, priority: number = 0): void {\n\t\teventManager.register(this.eventGroupName, target, eventName, callback, thisObj, priority);\n\t}\n\n\tenableEvents() {\n\t\teventManager.enable(this.eventGroupName);\n\t}\n\n\tdisableEvents() {\n\t\teventManager.disable(this.eventGroupName);\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddedToStage, this);\n\t\tthis.addEventListener(egret.Event.REMOVED_FROM_STAGE, this.onRemovedFromStage, this);\n\t}\n\n\tprotected onAddedToStage(event: egret.Event): void {\n\t\tthis.enableEvents();\n\t}\n\n\tprotected onRemovedFromStage(event: egret.Event): void {\n\t\tthis.disableEvents();\n\t}\n}\n","/**\n * Created by rocky.l on 2017/2/8.\n *\n * 事件名\n */\n\nexport const SHOW_TOAST: string = 'SHOW_TOAST';\nexport const HIDE_TOAST: string = 'HIDE_TOAST';","/**\n * Created by admin on 2017/9/14.\n *\n * Toast组件\n */\nimport {VisualEventComponent} from \"@alienlib/support/EventComponent\";\nimport {Dispatcher} from \"@alienlib/support\";\nimport {HIDE_TOAST, SHOW_TOAST} from \"../model/events\";\n\nexport default class Toast extends VisualEventComponent {\n\tprivate static _instance:Toast;\n\tpublic static get instance():Toast {\n\t\treturn this._instance;\n\t}\n\n\tprotected grp: eui.Group;\n\tprotected labContent: eui.Label;\n\n\tprivate _queue;\n\tprivate _tween;\n\n\tconstructor(){\n\t\tsuper();\n\n\t\tToast._instance = this;\n\t}\n\n\tcreateChildren(): void {\n\t\tsuper.createChildren();\n\n\t\tthis.grp.alpha = 0;\n\t\tthis._queue = [];\n\n\t\tthis.registerEvent(Dispatcher, SHOW_TOAST, this.onShow, this);\n\t\tthis.registerEvent(Dispatcher, HIDE_TOAST, this.onClean, this);\n\t}\n\n\taddAndPlayOne(data = null){\n\t\tif(data && this._queue.length == 0 && !this._tween){\n\t\t\tthis._queue.push(data);\n\t\t}\n\t\telse if(data && this._queue.length > 0 && data.content != this._queue[this._queue.length-1].text){\n\t\t\tthis._queue.push(data);\n\t\t}\n\n\t\tif(this._queue.length == 0 || this._tween){\n\t\t\treturn;\n\t\t}\n\n\t\tlet item = this._queue.shift();\n\n\t\tlet {content, color = 0xfff1d3, duration = 1000} = item;\n\n\t\tthis.labContent.text = content;\n\t\tthis.labContent.textColor = color;\n\n\t\tthis._tween = egret.Tween.get(this.grp, null, null, true)\n\t\t\t.to({alpha: 1}, 300)\n\t\t\t.wait(duration)\n\t\t\t.to({alpha: 0}, 200)\n\t\t\t.call(()=>{\n\t\t\t\tthis._tween = null;\n\t\t\t\tthis.addAndPlayOne();\n\t\t\t});\n\t}\n\n\tclean(){\n\t\tthis._queue.splice(0);\n\t}\n\n\tprivate onShow(event: egret.Event): void {\n\t\tthis.addAndPlayOne(event.data);\n\t}\n\n\tprivate onClean(event: egret.Event): void {\n\t\tthis.clean();\n\t\tegret.Tween.get(this.grp, null, null, true)\n\t\t\t.to({alpha: 0}, 200);\n\t}\n\n\tstatic show(data){\n\t\tToast._instance.addAndPlayOne(data);\n\t}\n\n\tstatic clean(){\n\t\tToast._instance.clean();\n\t}\n}","/**\n * Created by rockyl on 2018/8/21.\n */\n\nimport lang from \"./lang\";\nimport Toast from \"@core/view/Toast\";\n\nexport function showErrorAlert(e = null, callback?){\n\tlet content = !e || e instanceof Error ? lang.net_error : e;\n\n\tToast.show({\n\t\tcontent\n\t});\n\n\t/*PanelController.instance.show(PANEL_ALERT, {content}, function(){\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}else{\n\t\t\tlocation.reload();\n\t\t}\n\t})*/\n}\n\nexport function catchError(p, callback?){\n\tp.catch(e=>{\n\t\tif(e instanceof Error){\n\t\t\tconsole.log(e.message);\n\t\t\tconsole.log(e.stack);\n\t\t}\n\t\tshowErrorAlert(e, callback);\n\t})\n}\n","/**\n * Created by rockyl on 2018/10/10.\n */\n\nimport {injectProp} from \"@alienlib/tools/Utils\";\n\nconst componentDefinitions = {};\nconst components = [];\nconst bindingsMap = {};\n\nlet currentGroup;\n\nlet bindingConfig: {\n\tname: string,\n\tskin: string,\n\tresGroups?: string[],\n\tbindings: {\n\t\ttarget: string,\n\t\tcomponents: {\n\t\t\tscript: string,\n\t\t\tenabled?: boolean,\n\t\t\tinjection?: any,\n\t\t}\n\t}\n}[];\n\nfunction getDefName(str){\n\treturn str.substr(str.lastIndexOf('/') + 1);\n}\n\nexport function ready(config) {\n\tbindingConfig = config;\n\tfor (let scene of config) {\n\t\tfor (let binding of scene.bindings) {\n\t\t\tfor (let component of binding.components) {\n\t\t\t\tconst name = getDefName(component.script);\n\t\t\t\tcomponentDefinitions[name] = window[name];\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction newComponent(name) {\n\tconst def = componentDefinitions[name];\n\tif (!def) {\n\t\treturn null;\n\t}\n\n\tconst ins = new def();\n\tcomponents.push(ins);\n\n\treturn ins;\n}\n\nfunction getHostKey(host) {\n\treturn host['__class__'] + '_' + host.hashCode;\n}\n\nfunction getBindingByName(name){\n\treturn bindingConfig.find(item=>item.name == name);\n}\n\nexport function getComponents(host, createWhenNotExist = false) {\n\tlet group = bindingsMap[currentGroup];\n\tif(!group){\n\t\tgroup = bindingsMap[currentGroup] = {};\n\t}\n\n\tconst key = getHostKey(host);\n\tlet bindings = group[key];\n\tif (!bindings && createWhenNotExist) {\n\t\tbindings = group[key] = [];\n\t}\n\n\treturn bindings;\n}\n\nexport function getComponent(host, nameOrDef){\n\tlet target;\n\tconst components = getComponents(host);\n\tif(components){\n\t\tfor(let component of components){\n\t\t\tif(components['__class__'] == nameOrDef || component instanceof nameOrDef){\n\t\t\t\ttarget = component;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn target;\n}\n\nfunction transData(data){\n\tfor(let key in data){\n\t\tlet child = data[key];\n\t\tconst type = typeof child;\n\t\tif(type == 'object'){\n\t\t\ttransData(child);\n\t\t}else if(type == 'string'){\n\t\t\tchild = child.replace(/\\\\n/g, '\\n');\n\t\t\tif(child.indexOf('${') >= 0){\n\t\t\t\tconst result = child.match(/\\${[.|\\w]+}/g);\n\t\t\t\tif(result){\n\t\t\t\t\tfor(let item of result){\n\t\t\t\t\t\tconst code = item.substr(2, item.length - 3);\n\t\t\t\t\t\tconst ret = devil(code);\n\t\t\t\t\t\tchild = child.replace(item, ret);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata[key] = child;\n\t\t}\n\t}\n}\n\nexport function bindComponent(host, component, injection) {\n\tlet components = getComponents(host, true);\n\tcomponents.push(component);\n\n\ttransData(injection);\n\tinjectProp(component, injection);\n\tcomponent['host'] = host;\n\n\t//inject view parts\n\tif(host.skin){\n\t\thost.skin.skinParts.forEach(part=>{\n\t\t\tif(component.hasOwnProperty(part)){\n\t\t\t\tcomponent[part] = host[part];\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction unbindComponents(host, ...componentArr) {\n\tlet components = getComponents(host);\n\tif (!components) {\n\t\treturn;\n\t}\n\n\tif (componentArr.length > 0) {\n\t\tfor (let component of componentArr) {\n\t\t\tcomponent.destroy();\n\n\t\t\tconst index = components.indexOf(component);\n\t\t\tif (index >= 0) {\n\t\t\t\tcomponents.splice(index, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (let component of components) {\n\t\t\tcomponent.destroy();\n\t\t}\n\t\tcomponents.splice(0);\n\t}\n\n}\n\nfunction findTargetInObject(object, targetName){\n\tlet target = null;\n\tif(!targetName || targetName == 'this'){\n\t\ttarget = object;\n\t}else{\n\t\ttry {\n\t\t\tconst arr = targetName.split('.');\n\t\t\ttarget = arr.reduce((a, b)=>{\n\t\t\t\tif(a[b]){\n\t\t\t\t\treturn a[b];\n\t\t\t\t}\n\t\t\t}, object);\n\t\t}catch (e) {}\n\t}\n\treturn target;\n}\n\nfunction forEachBindings(sceneView, name, func) {\n\tconst item = getBindingByName(name);\n\tfor (let binding of item.bindings) {\n\t\tconst {target} = binding;\n\t\tconst targetView = findTargetInObject(sceneView, target);\n\t\tif (targetView) {\n\t\t\tfunc(targetView, binding);\n\t\t} else {\n\t\t\tconsole.warn(`target ${target} is not exist`)\n\t\t}\n\t}\n}\n\nexport function setCurrentGroup(name){\n\tcurrentGroup = name;\n}\n\nexport function mountView(sceneView, name) {\n\tforEachBindings(sceneView, name, function (targetView, binding) {\n\t\tfor (let component of binding.components) {\n\t\t\tconst {script, injection, enabled} = component;\n\t\t\tif(!enabled){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst name = getDefName(script);\n\t\t\tconst instance = newComponent(name);\n\n\t\t\tif (instance) {\n\t\t\t\tbindComponent(targetView, instance, injection);\n\t\t\t\tinstance.onCreate();\n\t\t\t} else {\n\t\t\t\tconsole.warn('script is not exist:', name);\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function unMountView(view, name) {\n\tforEachBindings(view, name, function (targetView) {\n\t\tunbindComponents(targetView);\n\t});\n}\n\nexport function awakeView(view, name) {\n\tforEachBindings(view, name, function (targetView) {\n\t\tconst components = getComponents(targetView);\n\t\tif (components) {\n\t\t\tfor (let component of components) {\n\t\t\t\tcomponent.awake();\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function sleepView(view, name) {\n\tforEachBindings(view, name, function (targetView) {\n\t\tconst components = getComponents(targetView);\n\t\tif (components) {\n\t\t\tfor (let component of components) {\n\t\t\t\tcomponent.sleep();\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function broadcast(method, targetComponent = null, ...params){\n\tlet group = bindingsMap[currentGroup];\n\tif(!group){\n\t\treturn;\n\t}\n\n\tconst result = [];\n\tfor(let key in group){\n\t\tconst bindings = group[key];\n\t\tfor(let binding of bindings){\n\t\t\tconst m: any = binding[method];\n\t\t\tif(m && !(targetComponent && typeof targetComponent === 'function' && binding instanceof targetComponent)){\n\t\t\t\tresult.push({\n\t\t\t\t\tcomponent: binding,\n\t\t\t\t\tresult: m.apply(binding, params),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n","/**\n * Created by rocky.l on 2017/1/17.\n *\n * 堆栈导航器\n */\n\nexport enum NavigatorAction {Push, Pop, Replace, Jump}\n\nexport interface INavigatorDelegate {\n\tonEnter(name: string, last: string, action: NavigatorAction, parameters: any);\n\n\tonLeave(name: string, next: string, action: NavigatorAction, parameters: any);\n\n\tonError(error: Error);\n}\n\nexport class StackNavigator {\n\tprivate _stack: string[];\n\tprivate _delegate: INavigatorDelegate;\n\n\tconstructor(delegate: INavigatorDelegate) {\n\t\tthis._stack = [];\n\t\tthis._delegate = delegate;\n\t}\n\n\tprivate catchPromise(p: Promise<any>) {\n\t\tif (p) {\n\t\t\tp.catch((e => {\n\t\t\t\tthis._delegate.onError(e);\n\t\t\t}))\n\t\t}\n\t}\n\n\tpush(name: string, parameters: any = null) {\n\t\tlet last: string = this.getTopSceneName();\n\t\tif (last) {\n\t\t\tif (last == name) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.catchPromise(this._delegate.onLeave(last, name, NavigatorAction.Push, parameters));\n\t\t}\n\t\tthis._stack.push(name);\n\t\tthis.catchPromise(this._delegate.onEnter(name, last, NavigatorAction.Push, parameters));\n\t}\n\n\tpopTo(index, name?: string, parameters: any = null) {\n\t\tif (this._stack.length > 0 && this._stack.length < (index + 1)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet last: string = this.getTopSceneName();\n\t\tthis._stack.splice(Math.max(index + 1, 0));\n\t\tlet next: string = this._stack[index];\n\t\tif (!next) {\n\t\t\tthis._stack.push(next = name);\n\t\t}\n\t\tif (last) {\n\t\t\tthis.catchPromise(this._delegate.onLeave(last, next, NavigatorAction.Pop, parameters));\n\t\t}\n\t\tthis.catchPromise(this._delegate.onEnter(next, last, NavigatorAction.Pop, parameters));\n\t}\n\n\tpop(parameters: any = null) {\n\t\tthis.popTo(this._stack.length - 2, null, parameters);\n\t}\n\n\tpopAll(name: string, parameters: any = null) {\n\t\tthis.popTo(-1, name, parameters);\n\t}\n\n\treplace(name: string, parameters: any = null) {\n\t\tlet last: string = this._stack.pop();\n\t\tthis._stack.push(name);\n\n\t\tthis.catchPromise(this._delegate.onLeave(last, name, NavigatorAction.Replace, parameters));\n\t\tthis.catchPromise(this._delegate.onEnter(name, last, NavigatorAction.Replace, parameters));\n\t}\n\n\tjump(name: string, parameters: any = null) {\n\t\tif (this._stack.length < 2) {\n\t\t\tthis.push(name, parameters);\n\t\t\treturn;\n\t\t}\n\t\tlet last: string = this._stack.pop();\n\t\tthis._stack.splice(1);\n\t\tlet next: string = name;\n\t\tthis._stack.push(next);\n\t\tthis._delegate.onLeave(last, next, NavigatorAction.Pop, parameters);\n\t\tthis._delegate.onEnter(next, last, NavigatorAction.Pop, parameters);\n\t}\n\n\tprivate getTopSceneName(): string {\n\t\treturn this._stack.length > 0 ? this._stack[this._stack.length - 1] : null;\n\t}\n\n\tprivate getBottomSceneName(): string {\n\t\treturn this._stack.length > 0 ? this._stack[0] : null;\n\t}\n}\n\n","/**\n * Created by rocky.l on 2017/1/19.\n *\n * 场景导航器\n */\nimport {INavigatorDelegate, NavigatorAction, StackNavigator} from \"./StackNavigator\";\n\nexport interface INavigatorViewBase {\n\tonAddView(): boolean;\n\n\tonWillMount(last: string, action: NavigatorAction, parameters: any): Promise<any>;\n\n\tonWillUnMount(next: string, action: NavigatorAction, parameters: any): Promise<any>;\n\n\tonWillEnter(last: string, action: NavigatorAction, parameters: any): Promise<any>;\n\n\tonDidEnter(last: string, action: NavigatorAction, parameters: any): void;\n\n\tonWillLeave(next: string, action: NavigatorAction, parameters: any): Promise<any>;\n\n\tonDidLeave(next: string, action: NavigatorAction, parameters: any): void;\n}\n\nexport class Navigator extends egret.EventDispatcher implements INavigatorDelegate {\n\tstatic VIEW_WILL_ENTER: string = 'VIEW_WILL_ENTER';\n\tstatic VIEW_DID_ENTER: string = 'VIEW_DID_ENTER';\n\tstatic VIEW_WILL_LEAVE: string = 'VIEW_WILL_LEAVE';\n\tstatic VIEW_DID_LEAVE: string = 'VIEW_DID_LEAVE';\n\n\tpublic static log = false;\n\n\tstack: StackNavigator;\n\n\tprotected _classDic: any;\n\tprotected _instanceDic: any;\n\tprotected _currentName: string;\n\tprotected _currentView: INavigatorViewBase;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._classDic = {};\n\t\tthis._instanceDic = {};\n\n\t\tthis.stack = new StackNavigator(this);\n\t}\n\n\tregister(name: string, clazz: any): void {\n\t\tthis._classDic[name] = clazz;\n\t}\n\n\tpush(name: string, parameters: any = null) {\n\t\tthis.stack.push(name, parameters);\n\t}\n\n\tpop(parameters: any = null) {\n\t\tthis.stack.pop(parameters);\n\t}\n\n\tpopToBottom(parameters: any = null) {\n\t\tthis.stack.popTo(0, null, parameters);\n\t}\n\n\tpopAll(name: string, parameters: any = null) {\n\t\tthis.stack.popAll(name, parameters);\n\t}\n\n\treplace(name: string, parameters: any = null) {\n\t\tthis.stack.replace(name, parameters);\n\t}\n\n\tjump(name: string, parameters: any = null) {\n\t\tthis.stack.jump(name, parameters);\n\t}\n\n\tget currentView(): INavigatorViewBase {\n\t\treturn this._currentView;\n\t}\n\n\tget currentName(): string {\n\t\treturn this._currentName;\n\t}\n\n\tprotected newView(name: string): INavigatorViewBase {\n\t\treturn new this._classDic[name]();\n\t}\n\n\tprotected getViewInstanceByName(name: string): INavigatorViewBase {\n\t\tlet view: INavigatorViewBase = this._instanceDic[name];\n\t\tif (!view) {\n\t\t\tview = this._instanceDic[name] = this.newView(name);\n\t\t}\n\n\t\treturn view;\n\t}\n\n\tprotected addView(view: INavigatorViewBase, addToBottom) {\n\n\t}\n\n\t/**\n\t * 栈入实现\n\t * @param name\n\t * @param last\n\t * @param action\n\t * @param parameters\n\t * @returns {Promise<void>}\n\t */\n\tasync onEnter(name: string, last: string, action: NavigatorAction, parameters: any) {\n\t\tlet view: INavigatorViewBase = this.getViewInstanceByName(name);\n\t\tthis._currentView = view;\n\t\tthis._currentName = name;\n\t\tawait view.onWillMount(last, action, parameters);\n\t\tlet addToBottom = view.onAddView();\n\t\tthis.addView(view, addToBottom);\n\t\tif (Navigator.log) console.log(name + ' will enter.');\n\t\tthis.dispatchEventWith(Navigator.VIEW_WILL_ENTER, false, {name, last, action, parameters});\n\t\tawait view.onWillEnter(last, action, parameters);\n\t\tif (Navigator.log) console.log(name + ' did enter.');\n\t\tthis.dispatchEventWith(Navigator.VIEW_DID_ENTER, false, {name, last, action, parameters});\n\t\tview.onDidEnter(last, action, parameters);\n\t}\n\n\t/**\n\t * 栈出实现\n\t * @param name\n\t * @param next\n\t * @param action\n\t * @param parameters\n\t * @returns {Promise<void>}\n\t */\n\tasync onLeave(name: string, next: string, action: NavigatorAction, parameters: any) {\n\t\tlet view: INavigatorViewBase = this.getViewInstanceByName(name);\n\t\tawait view.onWillUnMount(name, action, parameters);\n\t\tif (Navigator.log) console.log(name + ' will leave.');\n\t\tthis.dispatchEventWith(Navigator.VIEW_WILL_LEAVE, false, {name, next, action, parameters});\n\t\tawait view.onWillLeave(next, action, parameters);\n\t\tif (Navigator.log) console.log(name + ' did leave.');\n\t\tthis.dispatchEventWith(Navigator.VIEW_DID_LEAVE, false, {name, next, action, parameters});\n\t\tview.onDidLeave(next, action, parameters);\n\t}\n\n\t/**\n\t * 当收到错误实现\n\t * @param error\n\t */\n\tonError(error: Error) {\n\n\t}\n}\n","/**\n * Created by rockyl on 2018/3/16.\n */\nimport {checkNeedLoad, loadResGroups} from \"../tools/ResGroupsLoader\";\n\nlet watchPromise;\n\nexport function load(resGroupNames, onProgress, onBeginLoadResGroups, onEndLoadResGroups) {\n\tlet p: Promise<any>;\n\n\tlet loading = true;\n\tif (resGroupNames && resGroupNames.length > 0 && checkNeedLoad(resGroupNames)) {\n\t\tonBeginLoadResGroups(true);\n\t\tp = loadResGroups(resGroupNames, onProgress).then(() => {\n\t\t\tloading = false;\n\t\t\tonEndLoadResGroups();\n\t\t});\n\t} else {\n\t\tonBeginLoadResGroups(false);\n\t\tloading = false;\n\t\tonEndLoadResGroups();\n\t\tp = Promise.resolve();\n\t}\n\n\treturn p.then(() => {\n\t\twatchPromise && watchPromise();\n\t});\n}\n\nexport function watchLoaded() {\n\treturn new Promise(resolve => {\n\t\twatchPromise = resolve;\n\t})\n}","/**\n * Created by rockyl on 2017/1/19.\n *\n * 场景\n */\n\nimport {INavigatorViewBase} from \"@alienlib/navigator/Navigator\";\nimport {Dispatcher} from \"@alienlib/support\";\nimport {NavigatorAction} from \"@alienlib/navigator/StackNavigator\";\nimport {ResourceLoader} from \"@alienlib/egret\";\nimport {waitPromise} from \"@alienlib/tools/EgretUtils\";\nimport CurseNavigator from \"./Navigator\";\n\nexport default class Scene extends eui.Component implements INavigatorViewBase {\n\tpublic navigator: CurseNavigator;\n\tprivate needLoad: boolean;\n\n\tprivate resolveEnter;\n\tprivate resolveLeave;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.onBeginLoadResGroups = this.onBeginLoadResGroups.bind(this);\n\t\tthis.onEndLoadResGroups = this.onEndLoadResGroups.bind(this);\n\t\tthis.onProgress = this.onProgress.bind(this);\n\t}\n\n\tprotected get tweenEnter(): egret.tween.TweenGroup {\n\t\treturn this['enter' + (this.currentState ? '_' + this.currentState : '')];\n\t}\n\n\tprotected get tweenLeave(): egret.tween.TweenGroup {\n\t\treturn this['leave' + (this.currentState ? '_' + this.currentState : '')];\n\t}\n\n\tprotected childrenCreated(): void {\n\t\tsuper.childrenCreated();\n\n\t\tthis.percentWidth = this.percentHeight = 100;\n\n\t\tlet tween;\n\t\tif (this.tweenEnter) {\n\t\t\tthis.tweenEnter.addEventListener(egret.Event.COMPLETE, this.onTweenEnterComplete, this);\n\t\t} else if (this.skin) {\n\t\t\tthis.skin.states.forEach(state => {\n\t\t\t\tif (tween = this['enter_' + state.name]) {\n\t\t\t\t\ttween.addEventListener(egret.Event.COMPLETE, this.onTweenEnterComplete, this);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (this.tweenLeave) {\n\t\t\tthis.tweenLeave.addEventListener(egret.Event.COMPLETE, this.onTweenLeaveComplete, this);\n\t\t} else if (this.skin) {\n\t\t\tthis.skin.states.forEach(state => {\n\t\t\t\tif (tween = this['leave_' + state.name]) {\n\t\t\t\t\ttween.addEventListener(egret.Event.COMPLETE, this.onTweenLeaveComplete, this);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected getResGroupNames(): string[] {\n\t\treturn null;\n\t}\n\n\tprotected getSkinName(): any {\n\t\treturn null;\n\t}\n\n\tprotected onBeginLoadResGroups(needLoad) {\n\n\t}\n\n\tprotected onEndLoadResGroups() {\n\n\t}\n\n\tprotected onProgress(current, total) {\n\t\tDispatcher.dispatch('RES_LOAD_PROGRESS', {current, total})\n\t}\n\n\tactive() {\n\n\t}\n\n\tinactive() {\n\n\t}\n\n\tonWillUnMount(next: string, action: NavigatorAction, parameters: any): Promise<any> {\n\t\treturn Promise.resolve()\n\t}\n\n\tprotected onSkinOn() {\n\n\t}\n\n\tonAddView(): boolean {\n\t\treturn true;\n\t}\n\n\tonDidEnter(last: string, action: NavigatorAction, parameters: any): void {\n\t}\n\n\tonDidLeave(next: string, action: NavigatorAction, parameters: any): void {\n\t\tif (this.parent) {\n\t\t\tthis.parent.removeChild(this);\n\t\t}\n\n\t\t/*if(action != NavigatorAction.Push){\n\t\t\tlet resGroupNames = this.getResGroupNames();\n\t\t\tif(resGroupNames){\n\t\t\t\tresGroupNames.forEach((resGroupName)=>{\n\t\t\t\t\tRES.destroyRes(resGroupName, false);\n\t\t\t\t});\n\t\t\t}\n\t\t}*/\n\t}\n\n\tprotected shouldShowLeaveLayer(next, action, parameters) {\n\t\treturn true;\n\t}\n\n\n\tprotected onBeginLoadResGroups(needLoad) {\n\t\tthis.needLoad = needLoad;\n\t\tDispatcher.dispatch('show_loading', {needLoad})\n\t}\n\n\tprotected onEndLoadResGroups() {\n\n\t}\n\n\tasync onWillMount(next: string, action: NavigatorAction, parameters: any): Promise<any> {\n\t\tlet resGroupNames = this.getResGroupNames();\n\t\tlet p: Promise<any> = ResourceLoader.load(resGroupNames, this.onProgress, this.onBeginLoadResGroups, this.onEndLoadResGroups);\n\n\t\tawait waitPromise(500);\n\t\tawait p.then(() => {\n\t\t\tif (!this.skinName) {\n\t\t\t\tlet skinName = this.getSkinName();\n\t\t\t\tif (skinName) {\n\t\t\t\t\tthis.skinName = skinName;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.onSkinOn();\n\t\t\t}\n\t\t});\n\t}\n\n\tasync onWillEnter(last: string, action: NavigatorAction, parameters: any): Promise<any> {\n\t\tthis.resetScene(parameters);\n\t\tthis.active();\n\t\tawait waitPromise(100);\n\t\tif (this.tweenEnter) {\n\t\t\tthis.tweenEnter.play(0);\n\t\t}\n\t\tthis.onPlayEnter();\n\t\tconst p = Promise.resolve();\n\t\tDispatcher.dispatch('hide_black_layer', p);\n\t\tawait p;\n\t\tawait this.waitingForEnter();\n\t}\n\n\tprivate waitingForEnter() {\n\t\treturn new Promise(resolve => {\n\t\t\tif (this.tweenEnter && this.resolveEnter === false) {\n\t\t\t\tthis.resolveEnter = resolve;\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tasync onWillLeave(next: string, action: NavigatorAction, parameters: any): Promise<any> {\n\t\tif (this.tweenLeave) {\n\t\t\tthis.tweenLeave.play(0);\n\t\t}\n\t\tthis.onPlayLeave();\n\t\tawait this.waitingForLeave();\n\t\tif (this.shouldShowLeaveLayer(next, action, parameters)) {\n\t\t\tDispatcher.dispatch('show_black_layer');\n\t\t\tawait waitPromise(300);\n\t\t}\n\t\tthis.inactive();\n\t}\n\n\tprivate waitingForLeave() {\n\t\treturn new Promise(resolve => {\n\t\t\tif (this.tweenLeave) {\n\t\t\t\tthis.resolveLeave = resolve;\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate onTweenEnterComplete(event: egret.Event): void {\n\t\tthis.resolveEnter && this.resolveEnter();\n\t\tthis.resolveEnter = null;\n\t}\n\n\tprivate onTweenLeaveComplete(event: egret.Event): void {\n\t\tthis.resolveLeave && this.resolveLeave();\n\t\tthis.resolveLeave = null;\n\t}\n\n\tprotected onPlayEnter() {\n\n\t}\n\n\tprotected onPlayLeave() {\n\n\t}\n\n\tprotected resetScene(parameters) {\n\n\t}\n\n\tprotected goto(name, parameters = null) {\n\t\tthis.navigator.push(name, parameters);\n\t}\n\n\tprotected back(parameters = null) {\n\t\tthis.navigator.pop(parameters);\n\t}\n}","/**\n * Created by rockyl on 2018/8/15.\n *\n * Curse场景\n */\n\nimport {NavigatorAction} from \"@alienlib/navigator/StackNavigator\";\nimport Scene from \"./Scene\";\nimport {awakeView, mountView, setCurrentGroup, sleepView, unMountView} from \"./Manager\";\n\nexport default class CurseScene extends Scene {\n\toptions: any;\n\n\tconstructor(name, options){\n\t\tsuper();\n\n\t\tthis.name = name;\n\t\tthis.options = options;\n\t}\n\n\tprotected getSkinName(): any {\n\t\treturn this.options.skin;\n\t}\n\n\tprotected getResGroupNames(): string[] {\n\t\treturn this.options.resGroupNames;\n\t}\n\n\tasync onWillEnter(last: string, action: NavigatorAction, parameters: any): Promise<any> {\n\t\tsetCurrentGroup(this.name);\n\t\tawakeView(this, this.name);\n\n\t\treturn super.onWillEnter(last, action, parameters);\n\t}\n\n\tasync onWillLeave(next: string, action: NavigatorAction, parameters: any): Promise<any> {\n\t\tsleepView(this, this.name);\n\n\t\treturn super.onWillLeave(next, action, parameters);\n\t}\n\n\tactive(): void {\n\t\tsuper.active();\n\n\t}\n\n\tinactive(): void {\n\t\tsuper.inactive();\n\n\t}\n\n\tchildrenCreated(): void {\n\t\tsuper.childrenCreated();\n\n\t\tsetCurrentGroup(this.name);\n\t\tmountView(this, this.name);\n\t\t//unmountScene(this, this.name);\n\t}\n}\n","/**\n * Created by admin on 2017/9/25.\n *\n * 自定义导航\n */\n\nimport {NavigatorAction} from \"@alienlib/navigator/StackNavigator\";\nimport {injectProp} from \"@alienlib/tools/Utils\";\nimport {INavigatorViewBase, Navigator} from \"@alienlib/navigator/Navigator\";\nimport Scene from \"./Scene\";\nimport CurseScene from \"./CurseScene\";\n\nexport default class CurseNavigator extends Navigator{\n\tprivate _rootView:eui.Group;\n\tprivate readonly _injectProps;\n\tprivate readonly _optionsMap;\n\n\tconstructor(rootView:eui.Group, injectProps = {}){\n\t\tsuper();\n\n\t\tthis._rootView = rootView;\n\t\tthis._injectProps = injectProps;\n\t\tthis._injectProps.navigator = this;\n\t\tthis._optionsMap = {};\n\t}\n\n\tregisterScene(name: string, options: any): void {\n\t\tthis._optionsMap[name] = options;\n\t}\n\n\tprotected newView(name: string): INavigatorViewBase {\n\t\tconst view = new CurseScene(name, this._optionsMap[name]);\n\t\tinjectProp(view, this._injectProps);\n\n\t\treturn view;\n\t}\n\n\tprotected addView(view:Scene, addToBottom){\n\t\tif(addToBottom){\n\t\t\tthis._rootView.addChildAt(view, 0);\n\t\t}else{\n\t\t\tthis._rootView.addChild(view);\n\t\t}\n\t}\n\n\tasync onEnter(name: string, last: string, action: NavigatorAction, parameters: any): Promise<void> {\n\t\tthis._rootView.touchThrough = true;\n\t\tawait super.onEnter(name, last, action, parameters);\n\t\tthis._rootView.touchThrough = false;\n\t}\n\n\tasync onLeave(name: string, next: string, action: NavigatorAction, parameters: any): Promise<void> {\n\t\tawait super.onLeave(name, next, action, parameters);\n\t}\n\n\tonError(error:Error): void {\n\t\tif(DEBUG){\n\t\t\tconsole.log(error);\n\t\t}\n\n\t}\n}\n","/**\n * Created by admin on 2017/5/16.\n *\n * 场景控制器\n */\n\nimport CurseNavigator from \"../curse/Navigator\";\nimport CurseScene from \"../curse/CurseScene\";\n\nexport default class SceneController {\n\tprivate static _instance: SceneController;\n\tpublic static get instance(): SceneController {\n\t\tif (this._instance == undefined) {\n\t\t\tthis._instance = new SceneController();\n\t\t}\n\t\treturn this._instance;\n\t}\n\n\tprivate _navigator: CurseNavigator;\n\tprivate _configured;\n\n\tconfigure(rootView, sceneConfigs, injectProps?) {\n\t\tif (this._configured) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._configured = true;\n\n\t\tthis._navigator = new CurseNavigator(rootView, injectProps);\n\n\t\tfor (let key in sceneConfigs) {\n\t\t\tthis.register(key, sceneConfigs[key]);\n\t\t}\n\t}\n\n\tregister(name, options) {\n\t\tthis._navigator.registerScene(name, options);\n\t}\n\n\tget navigator() {\n\t\treturn this._navigator;\n\t}\n\n\tactive() {\n\t\tlet scene: CurseScene = <CurseScene>this._navigator.currentView;\n\t\tscene.active();\n\t}\n\n\tinactive() {\n\t\tlet scene: CurseScene = <CurseScene>this._navigator.currentView;\n\t\tscene.inactive();\n\t}\n\n\tstatic replace(name: string, parameters: any = null) {\n\t\tSceneController.instance.navigator.replace(name, parameters);\n\t}\n\n\tstatic goto(name: string, parameters: any = null) {\n\t\tSceneController.instance.navigator.push(name, parameters);\n\t\treturn true;\n\t}\n\n\tstatic back(parameters: any = null) {\n\t\tSceneController.instance.navigator.pop(parameters);\n\t}\n\n\tstatic popAll(name: string, parameters: any = null) {\n\t\tSceneController.instance.navigator.popAll(name, parameters);\n\t}\n\n\tstatic jump(name: string, parameters: any = null) {\n\t\tSceneController.instance.navigator.jump(name, parameters);\n\t}\n}\n","/**\n * Created by rockyl on 16/3/9.\n */\n\n/*\n * Blind 刷出来\n * Bounce 跳动\n * Clip 横向收缩\n * Scale 纵向收缩\n * Drop 单向收缩+fade\n * Slide 单向收缩\n * Explode 八方向爆炸\n * Fade 渐进\n * Fold 抽屉收缩\n * Puff 放大+Fade\n * Pulsate 闪烁\n * Shake 抖动\n * */\nimport {StageProxy} from \"../support\";\n\nexport class Utils {\n\tstatic centerPopUp(popUp: eui.Component): void {\n\t\tpopUp.horizontalCenter = popUp.verticalCenter = 0;\n\t}\n\n\tstatic centerHorizontal(popUp: eui.Component): void {\n\t\tpopUp.horizontalCenter = 0;\n\t}\n\n\tstatic centerVertical(popUp: eui.Component): void {\n\t\tpopUp.verticalCenter = 0;\n\t}\n\n\tstatic notCenterPopUp(popUp: eui.Component): void {\n\t\tpopUp.horizontalCenter = popUp.verticalCenter = NaN;\n\t}\n\n\tstatic getCenterPos(popUp: eui.Component): any {\n\t\tlet x: number = 0;\n\t\tlet y: number = 0;\n\n\t\tlet parent: egret.DisplayObjectContainer = popUp.parent;\n\t\tif (parent) {\n\t\t\tx = (parent.width - popUp.width) * 0.5;\n\t\t\ty = (parent.height - popUp.height) * 0.5;\n\t\t}\n\n\t\treturn {x: x, y: y};\n\t}\n\n\tstatic transDirection(dStr: string): number {\n\t\tlet d: number;\n\t\tswitch (dStr) {\n\t\t\tcase \"up\":\n\t\t\t\td = 0;\n\t\t\t\tbreak;\n\t\t\tcase \"right\":\n\t\t\t\td = 1;\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\td = 2;\n\t\t\t\tbreak;\n\t\t\tcase \"left\":\n\t\t\t\td = 3;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn d;\n\t}\n}\n\nexport interface IDialogEffect {\n\tshow(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void;\n\n\thide(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void;\n}\n\nexport class None implements IDialogEffect {\n\tshow(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\ttarget.scaleX = target.scaleY = target.alpha = 1;\n\t\tparent.addChild(target);\n\t\tUtils.centerPopUp(target);\n\t\tcallback.call(thisObj);\n\t}\n\n\thide(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\tparent.removeChild(target);\n\t\tcallback.call(thisObj);\n\t}\n}\n\n/***\n * 渐进渐出\n */\nexport class Fade implements IDialogEffect {\n\tstatic DEFAULT_DURATION: number = 200;\n\n\tshow(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\ttarget.alpha = 0;\n\t\tparent.addChild(target);\n\t\tUtils.centerPopUp(target);\n\t\tlet duration: number = (params && params.duration) || Fade.DEFAULT_DURATION;\n\t\tegret.Tween.get(target).to({alpha: 1}, duration).call(callback, thisObj);\n\t}\n\n\thide(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\tlet duration: number = (params && params.duration) || Fade.DEFAULT_DURATION;\n\t\tegret.Tween.get(target).to({alpha: 0}, duration).call(function (): void {\n\t\t\tparent.removeChild(target);\n\t\t\tcallback.call(thisObj);\n\t\t}, this);\n\t}\n}\n\n/**\n * 飞入\n * duration: 时间\n * direction: 方向(up, bottom, left, right)\n * withFade: 是否伴随渐进渐出\n * startPos:\n * endPos:\n */\nexport class Flew implements IDialogEffect {\n\tstatic DEFAULT_DURATION: number = 300;\n\tstatic outPos: Array<any>;\n\n\tshow(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\tif (!Flew.outPos) {\n\t\t\tFlew.outPos = [\n\t\t\t\t{x: 0, y: -StageProxy.getHeight()},\n\t\t\t\t{x: StageProxy.getWidth(), y: 0},\n\t\t\t\t{x: 0, y: StageProxy.getHeight()},\n\t\t\t\t{x: -StageProxy.getWidth(), y: 0}\n\t\t\t];\n\t\t}\n\n\t\tparent.addChild(target);\n\t\tUtils.notCenterPopUp(target);\n\t\tlet startPos: any = params.startPos || Flew.outPos[Utils.transDirection(params.direction)];\n\t\tlet endPos: any = params.endPos || Utils.getCenterPos(target);\n\t\ttarget.x = startPos.x || endPos.x;\n\t\ttarget.y = startPos.y || endPos.y;\n\t\tlet duration: number = (params && params.duration) || Flew.DEFAULT_DURATION;\n\t\tlet state: any = {x: endPos.x, y: endPos.y};\n\t\tegret.Tween.get(target).to(state, duration, params ? params.ease : null).call(callback, thisObj);\n\t\tif (params && params.withFade) {\n\t\t\tegret.Tween.get(target).to({alpha: 1}, duration);\n\t\t}\n\t}\n\n\thide(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\tlet defaultPos: any = Flew.outPos[Utils.transDirection(params.direction)];\n\t\tlet endPos: any = params.endPos || Utils.getCenterPos(target);\n\t\tlet duration: number = (params && params.duration) || Flew.DEFAULT_DURATION;\n\t\tlet state: any = {x: defaultPos.x || endPos.x, y: defaultPos.y || endPos.y};\n\t\tegret.Tween.get(target).to(state, duration, params ? params.ease : null).call(function (): void {\n\t\t\tparent.removeChild(target);\n\t\t\tUtils.centerPopUp(target);\n\t\t\tcallback.call(thisObj);\n\t\t}, this);\n\t\tif (params && params.withFade) {\n\t\t\tegret.Tween.get(target).to({alpha: 0}, duration);\n\t\t}\n\t}\n}\n\n/***\n * 缩放\n * duration: 时间\n * withFade: 是否伴随渐进渐出\n */\nexport class Scale implements IDialogEffect {\n\tstatic DEFAULT_DURATION: number = 200;\n\n\tshow(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\tlet duration: number = (params && params.duration) || Scale.DEFAULT_DURATION;\n\t\ttarget.scaleX = target.scaleY = 0;\n\t\tlet state: any = {scaleX: 1, scaleY: 1};\n\t\tparent.addChild(target);\n\t\tUtils.centerPopUp(target);\n\t\tegret.Tween.get(target).to(state, duration, params ? params.ease : null).call(callback, thisObj);\n\t\tif (params && params.withFade) {\n\t\t\tegret.Tween.get(target).to({alpha: 1}, duration);\n\t\t}\n\t}\n\n\thide(target: eui.Component, parent: eui.Group, callback: Function, thisObj: any, params: any): void {\n\t\tlet duration: number = (params && params.duration) || Scale.DEFAULT_DURATION;\n\t\ttarget.scaleX = target.scaleY = 1;\n\t\tlet state: any = {scaleX: 0, scaleY: 0};\n\t\tegret.Tween.get(target).to(state, duration, params ? params.ease : null).call(function (): void {\n\t\t\tparent.removeChild(target);\n\t\t\ttarget.scaleX = target.scaleY = 1;\n\t\t\tcallback.call(thisObj);\n\t\t}, this);\n\t\tif (params && params.withFade) {\n\t\t\tegret.Tween.get(target).to({alpha: 0}, duration);\n\t\t}\n\t}\n}\n","/**\n * Created by rockyl on 16/3/9.\n */\nimport {StageProxy} from \"../support\";\nimport {IDialogEffect, None} from \"./PopupEffect\";\nimport {combineProp} from \"../tools/Utils\";\nimport {enumChildren} from \"../tools/EgretUtils\";\n\nconst defaultModalConfig: any = {\n\tcolor: 0,\n\talpha: 0.7,\n\tduration: 200,\n};\n\nconst POPUP_SHOW: string = 'POPUP_SHOW';\nconst POPUP_HIDE: string = 'POPUP_HIDE';\n\nlet _modalMask: eui.Rect;\nlet _pupUpStack: Array<any> = [];\nlet _popLayer: eui.Group;\nlet _modalConfig: any;\n\nexport function init(popLayer: eui.Group) {\n\t_popLayer = popLayer;\n\t_popLayer.width = StageProxy.getWidth();\n\t_popLayer.height = StageProxy.getHeight();\n\n\tStageProxy.getStage().addEventListener(egret.Event.RESIZE, onStageResize, this);\n}\n\nfunction onStageResize(event: egret.Event = null): void {\n\tif (_modalMask) {\n\t\t_modalMask.width = StageProxy.getWidth();\n\t\t_modalMask.height = StageProxy.getHeight();\n\t}\n}\n\nexport function addPopUp(target: eui.Component, effectClazz: any = null, effectParams: any = null, modalTouchFun: Function = null, modal: boolean = true, modalConfig: any = null): void {\n\tif (target.parent) {\n\t\treturn;\n\t}\n\n\tlet dispatchPopUpShow = _pupUpStack.length == 0;\n\n\tlet top = getTopPupUp();\n\tif (top && top['inactive']) {\n\t\ttop['inactive']();\n\t}\n\n\t_modalConfig = combineProp(defaultModalConfig, modalConfig);\n\n\t_pupUpStack.unshift({target: target, modalTouchFun: modalTouchFun, modal: modal});\n\n\tupdateModalMask(_pupUpStack[0]);\n\n\tlet effect: IDialogEffect = createEffectInstance(effectClazz);\n\teffect.show(target, _popLayer, function (): void {\n\t\tif (target['active']) {\n\t\t\ttarget['active']();\n\t\t}\n\t}, this, effectParams);\n\n\tif (dispatchPopUpShow) {\n\t\t//dispatchEventWith(PopUpManager.POPUP_SHOW);\n\t}\n}\n\nexport function removePopUp(target: eui.Component, effectClazz: any = null, effectParams: any = null): void {\n\tif (!target.parent) {\n\t\treturn;\n\t}\n\tif (!getInStack(target, true)) {\n\t\treturn;\n\t}\n\tlet aimItem: any;\n\t_pupUpStack.some(function (item: any): boolean {\n\t\tif (item.modal) {\n\t\t\taimItem = item;\n\t\t\treturn true;\n\t\t}\n\t});\n\n\tif (aimItem) {\n\t\tupdateModalMask(aimItem);\n\t} else {\n\t\tsetModalMaskVisible(false);\n\t}\n\n\tlet effect: IDialogEffect = createEffectInstance(effectClazz);\n\teffect.hide(target, _popLayer, function (): void {\n\t\tif (target['inactive']) {\n\t\t\ttarget['inactive']();\n\t\t}\n\n\t\tlet top = getTopPupUp();\n\t\tif (top && top['active']) {\n\t\t\ttop['active']();\n\t\t}\n\n\t}, this, effectParams);\n\n\tlet dispatchPopUpHide = _pupUpStack.length == 0;\n\tif (dispatchPopUpHide) {\n\t\t//dispatchEventWith(PopUpManager.POPUP_HIDE);\n\t}\n}\n\nfunction getTopPupUp() {\n\tif (_pupUpStack.length > 0) {\n\t\treturn _pupUpStack[_pupUpStack.length - 1];\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function removeTopPupUp(): boolean {\n\tlet top = getTopPupUp();\n\tif (top) {\n\t\tif (top['close']) {\n\t\t\ttop['close']();\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function removeAllPupUp(): void {\n\tenumChildren(_popLayer, (popup: any) => {\n\t\tif (popup != _modalMask) {\n\t\t\tpopup['close']();\n\t\t}\n\t});\n}\n\nfunction getInStack(target: egret.DisplayObjectContainer, del: boolean = false): any {\n\tlet data: any;\n\t_pupUpStack.some(function (item: any, index: number): boolean {\n\t\tif (item.target == target) {\n\t\t\tdata = {item: item, index: index};\n\t\t\treturn true;\n\t\t}\n\t});\n\n\tif (data && del) {\n\t\t_pupUpStack.splice(data.index, 1);\n\t}\n\n\treturn data;\n}\n\nfunction createEffectInstance(effectClazz: any = null): IDialogEffect {\n\tlet effect: IDialogEffect;\n\tif (effectClazz) {\n\t\teffect = new effectClazz();\n\t} else {\n\t\teffect = new None();\n\t}\n\n\treturn effect;\n}\n\nfunction onModalMaskTap(event: egret.TouchEvent): void {\n\tlet item: any = _pupUpStack[0];\n\tif (item && item.modal && item.modalTouchFun) {\n\t\titem.modalTouchFun();\n\t}\n}\n\nfunction updateModalMask(item: any): void {\n\tlet maskIndex: number = _popLayer.getChildIndex(_modalMask);\n\tlet index: number = _popLayer.getChildIndex(item.target);\n\tif (maskIndex != index - 1) {\n\t\tsetModalMaskVisible(item.modal, index);\n\t}\n}\n\nfunction setModalMaskVisible(visible: boolean, index: number = -1): void {\n\tconst modalMask = getModalMask();\n\tif (visible) {\n\t\tmodalMask.fillColor = _modalConfig.color;\n\t\tmodalMask.fillAlpha = _modalConfig.alpha;\n\n\t\tif (index >= 0) {\n\t\t\tsetModalMaskVisible(true);\n\t\t\t_popLayer.addChildAt(modalMask, index);\n\t\t} else {\n\t\t\t_popLayer.addChild(modalMask);\n\t\t}\n\t\tegret.Tween.get(modalMask, null, null, true).to({alpha: 1}, _modalConfig.duration);\n\t} else {\n\t\tif (modalMask.parent) {\n\t\t\tegret.Tween.get(modalMask, null, null, true).to({alpha: 0}, _modalConfig.duration).call(function (modalMask: eui.Rect): void {\n\t\t\t\t_popLayer.removeChild(modalMask);\n\t\t\t}, this, [modalMask]);\n\t\t}\n\t}\n}\n\nfunction getModalMask(): eui.Rect {\n\tif (!_modalMask) {\n\t\t_modalMask = new eui.Rect();\n\t\t_modalMask.width = StageProxy.getWidth();\n\t\t_modalMask.height = StageProxy.getHeight();\n\t\t_modalMask.addEventListener(egret.TouchEvent.TOUCH_TAP, onModalMaskTap, this);\n\t}\n\n\treturn _modalMask;\n}\n","/**\n * Created by rockyl on 16/3/9.\n */\n\nimport {None} from \"./PopupEffect\";\nimport {addPopUp, removePopUp} from \"./PopUpManager\";\nimport {checkNeedLoad, loadResGroups} from \"../tools/ResGroupsLoader\";\nimport {EventComponent} from \"../support/EventComponent\";\n\nexport class PopupBase extends eui.Component {\n\tprotected showEffect: any;\n\tprotected showEffectParams: any;\n\tprotected closeEffect: any;\n\tprotected closeEffectParams: any;\n\tprotected popupShowBanner: boolean;\n\n\tprotected _callback: Function;\n\tprotected _excludeActionsClose: string[] = [];\n\n\tconstructor(showEffect: any = null, showEffectParams: any = null, closeEffect: any = null, closeEffectParams: any = null, popupShowBanner: boolean = false) {\n\t\tsuper();\n\n\t\tthis.showEffect = showEffect || None;\n\t\tthis.showEffectParams = showEffectParams;\n\n\t\tthis.closeEffect = closeEffect || None;\n\t\tthis.closeEffectParams = closeEffectParams;\n\n\t\tthis.popupShowBanner = popupShowBanner;\n\n\t\tthis._excludeActionsClose = [];\n\t\tthis.init();\n\t}\n\n\tprotected init(): void {\n\n\t}\n\n\tprotected getResGroupNames(): string[] {\n\t\treturn null;\n\t}\n\n\tprotected onBeginLoadResGroups() {\n\n\t}\n\n\tprotected onEndLoadResGroups() {\n\n\t}\n\n\tprotected getSkinName(): any {\n\t\treturn null;\n\t}\n\n\t/**\n\t * 添加不用关闭的动作\n\t * @param actions\n\t */\n\taddExcludeForClose(actions: string[]): void {\n\t\tthis._excludeActionsClose = this._excludeActionsClose.concat(actions);\n\t}\n\n\tdealAction = (action: string = null, data: any = null) => {\n\t\tif (this._callback) {\n\t\t\tthis._callback(action || 'close', data);\n\t\t}\n\n\t\tif (this._excludeActionsClose.indexOf(action) < 0) {\n\t\t\tthis.close();\n\n\t\t\tthis._callback = null;\n\t\t}\n\t};\n\n\tasync popup(modalTouchFun: Function = null, modal: boolean = true, modalConfig: any = null) {\n\t\tlet resGroupNames = this.getResGroupNames();\n\t\tif (resGroupNames && resGroupNames.length > 0 && checkNeedLoad(resGroupNames)) {\n\t\t\tthis.onBeginLoadResGroups();\n\t\t\tawait loadResGroups(resGroupNames);\n\t\t\tthis.onEndLoadResGroups();\n\t\t} else {\n\t\t\tthis.onEndLoadResGroups();\n\t\t}\n\n\t\tif (!this.skinName) {\n\t\t\tlet skinName = this.getSkinName();\n\t\t\tif (skinName) {\n\t\t\t\tthis.skinName = skinName;\n\t\t\t}\n\t\t}\n\n\t\tthis._popup(modalTouchFun, modal, modalConfig);\n\t}\n\n\tprivate _popup(modalTouchFun: Function = null, modal: boolean = true, modalConfig: any = null) {\n\t\taddPopUp(this, this.showEffect, this.showEffectParams, modalTouchFun, modal, modalConfig);\n\t}\n\n\tclose(): void {\n\t\tremovePopUp(this, this.closeEffect, this.closeEffectParams);\n\t}\n\n\tactive() {\n\t\t\n\t}\n\n\tinactive() {\n\t\t\n\t}\n}\n","/**\n * Created by rockyl on 2018/8/20.\n *\n * 弹窗\n */\n\nimport {Flew} from \"@alienlib/popup/PopupEffect\";\nimport {PopupBase} from \"@alienlib/popup/PopupBase\";\nimport {awakeView, mountView, sleepView} from \"./Manager\";\n\nexport default class CursePanel extends PopupBase {\n\toptions: any;\n\tdata: any;\n\n\tconstructor(name, options) {\n\t\tsuper(\n\t\t\tFlew, {direction: 'up', withFade: true, ease: egret.Ease.backOut},\n\t\t\tFlew, {direction: 'up', withFade: true, ease: egret.Ease.backIn},\n\t\t);\n\n\t\tthis.name = name;\n\t\tthis.options = options;\n\t}\n\n\tprotected getSkinName(): any {\n\t\treturn this.options.skin;\n\t}\n\n\tprotected childrenCreated(): void {\n\t\tsuper.childrenCreated();\n\n\t\tmountView(this, this.name);\n\t\t//unmountScene(this, this.name);\n\t}\n\n\tasync show(data, callback) {\n\t\tthis.data = data;\n\t\tthis._callback = callback;\n\n\t\tawait this.popup();\n\n\t\tawakeView(this, this.name);\n\t}\n\n\tactive(): void {\n\t\tsuper.active();\n\t}\n\n\tinactive(): void {\n\t\tsuper.inactive();\n\n\t\tsleepView(this, this.name);\n\t}\n}\n","/**\n * Created by admin on 2017/5/16.\n *\n * 弹窗控制器\n */\nimport CursePanel from \"../curse/CursePanel\";\nimport {init as initPopUpManager} from \"@alienlib/popup/PopUpManager\";\n\nexport default class PanelController {\n\tprivate static _instance: PanelController;\n\tpublic static get instance(): PanelController {\n\t\tif (this._instance == undefined) {\n\t\t\tthis._instance = new PanelController();\n\t\t}\n\t\treturn this._instance;\n\t}\n\n\tprivate _configured;\n\n\tprivate _registerMap:any = {};\n\tprivate _instanceMap:any = {};\n\n\tconfigure(rootView, panelConfigs) {\n\t\tif (this._configured) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._configured = true;\n\n\t\tinitPopUpManager(rootView);\n\n\t\tfor (let key in panelConfigs) {\n\t\t\tthis.register(key, panelConfigs[key]);\n\t\t}\n\t}\n\n\tregister(name, options) {\n\t\tthis._registerMap[name] = options;\n\t}\n\n\tshow(name, params?, callback?){\n\t\tlet instance: CursePanel = this._instanceMap[name];\n\t\tlet options = this._registerMap[name];\n\t\tif(!instance){\n\t\t\tinstance = this._instanceMap[name] = new CursePanel(name, options);\n\t\t}\n\n\t\tinstance.show(params, callback);\n\n\t\treturn instance;\n\t}\n\n\tdealAction(name, action?, data?){\n\t\tlet instance: CursePanel = this._instanceMap[name];\n\t\tif(!instance){\n\t\t\treturn ;\n\t\t}\n\n\t\tinstance.dealAction(action, data)\n\t}\n\n\tclose(name){\n\t\tlet instance: CursePanel = this._instanceMap[name];\n\t\tif(!instance){\n\t\t\treturn ;\n\t\t}\n\n\t\tinstance.close()\n\t}\n}\n","/**\n * Created by rockyl on 2018/8/15.\n *\n * 主舞台\n */\n\nimport Service from \"./Service\";\nimport LoadingView from \"./view/LoadingView\";\nimport lang from \"./lang\";\nimport {catchError} from \"./ErrorUtils\";\nimport {ready as readyCurseManager} from \"./curse/Manager\";\nimport SceneController from \"./view/SceneController\";\nimport PanelController from \"./view/PanelController\";\nimport Toast from \"./view/Toast\";\n\nimport {getTweenPromise} from \"@alienlib/tools/EgretUtils\";\nimport {Dispatcher} from \"@alienlib/support\";\n\nToast;\n\nexport default class MainStage extends eui.Component {\n\tprivate static _instance: MainStage;\n\tpublic static get instance(): MainStage {\n\t\tif (this._instance == undefined) {\n\t\t\tthis._instance = new MainStage();\n\t\t}\n\t\treturn this._instance;\n\t}\n\n\tprojectConfig: any;\n\tservices: Service[];\n\n\tsceneContainer: eui.Group;\n\tpopLayer: eui.Group;\n\n\tloadingView: LoadingView;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.init();\n\n\t\tthis.percentWidth = 100;\n\t\tthis.percentHeight = 100;\n\t\tthis.skinName = MainStageSkin;\n\t}\n\n\tprotected init() {\n\t\tlang.initData();\n\n\t\tthis.projectConfig = RES.getRes('project-config');\n\t\tthis.services = this.projectConfig.settings.services.map(item => {\n\t\t\treturn window[item + 'Service'];\n\t\t});\n\t}\n\n\tchildrenCreated(): void {\n\t\tsuper.createChildren();\n\n\t\tthis.addChildAt(this.loadingView = LoadingView.instance, 1);\n\n\t\treadyCurseManager(this.projectConfig.bindings);\n\n\t\tconst sceneConfig = {};\n\t\tconst panelConfig = {};\n\t\tfor (let binding of this.projectConfig.bindings) {\n\t\t\tconst {name, skin, resGroups} = binding;\n\t\t\tconst config = {\n\t\t\t\tskin: skin,\n\t\t\t\tresGroupNames: resGroups,\n\t\t\t};\n\t\t\tif (binding.name.indexOf('scene') >= 0) {\n\t\t\t\tsceneConfig[name] = config;\n\t\t\t} else {\n\t\t\t\tpanelConfig[name] = config;\n\t\t\t}\n\t\t}\n\n\t\tSceneController.instance.configure(this.sceneContainer, sceneConfig);\n\t\tPanelController.instance.configure(this.popLayer, panelConfig);\n\n\t\tDispatcher.addEventListener('show_loading', this.showLoading, this);\n\t\tDispatcher.addEventListener('show_black_layer', this.showBlackLayer, this);\n\t\tDispatcher.addEventListener('hide_black_layer', this.hideBlackLayer, this);\n\n\t\tcatchError(this.start());\n\t}\n\n\tshowLoading(event) {\n\t\tconst {needLoad} = event.data;\n\t\tthis.loadingView.setState(needLoad ? 'loading' : 'blank');\n\t\tif (needLoad) {\n\t\t\tthis.loadingView.setProgress(0, true);\n\t\t}\n\t}\n\n\tshowBlackLayer(event) {\n\t\tconst p = event.data;\n\n\t\tconst layer = this.loadingView;\n\n\t\tToast.clean();\n\n\t\tthis.addChildAt(layer, 3);\n\t\tegret.Tween.get(layer, null, null, true)\n\t\t\t.to({alpha: 1}, 200)\n\t}\n\n\thideBlackLayer(event) {\n\t\tconst p = event.data;\n\n\t\tconst layer = this.loadingView;\n\n\t\tif (!this.contains(layer)) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tp.then(\n\t\t\t(data) => {\n\t\t\t\treturn getTweenPromise(\n\t\t\t\t\tegret.Tween.get(layer, null, null, true)\n\t\t\t\t\t\t.to({alpha: 0}, 200).call(() => {\n\t\t\t\t\t\tif (this.contains(layer)) {\n\t\t\t\t\t\t\tthis.removeChild(layer);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t)\n\t}\n\n\tasync start(params = null) {\n\t\tawait Promise.all(this.services.map(service => service.start()));\n\n\t\tthis.services.forEach(service => service.afterStart())\n\t}\n\n\tasync stop() {\n\t\treturn Promise.all(this.services.map(service => service.stop()));\n\t}\n}\n","/**\n * Created by admin on 2017/6/26.\n *\n * 事件管理器\n */\n\nimport eventManager from \"@alienlib/support/EventManager\";\n\nexport default class Service extends egret.EventDispatcher{\n\tconstructor(){\n\t\tsuper();\n\n\t\tthis.init();\n\t}\n\n\tprotected init(){\n\n\t}\n\n\tprivate get eventGroupName(){\n\t\treturn this['__class__'] + '_' + this.hashCode;\n\t}\n\n\tregisterEvent(target:any, eventName:any, callback:Function, thisObj:any, priority:number = 0):void{\n\t\teventManager.register(this.eventGroupName, target, eventName, callback, thisObj, priority);\n\t}\n\n\tasync start(){\n\t\teventManager.enable(this.eventGroupName);\n\t}\n\n\tasync stop(){\n\t\teventManager.disable(this.eventGroupName);\n\t}\n\n\tafterStart(){\n\n\t}\n}","/**\n * Created by rocky.l on 2017/2/8.\n *\n * 事件名\n */\n\nexport const BADGE_CHANGED: string = 'BADGE_CHANGED';\nexport const SETTING_CHANGED: string = 'SETTING_CHANGED';","/**\n * Created by admin on 2017/6/16.\n *\n * 存储数据服务\n */\n\nimport Service from \"../../core/Service\";\nimport {LocalStorage} from \"@alienlib/support\";\nimport {SETTING_CHANGED} from \"../model/events\";\n\nclass StorageService extends Service{\n\tprotected store:any;\n\n\tprotected _initialized;\n\n\tstart(): Promise<any> {\n\t\tthis.load();\n\n\t\tthis.store.launch_count = this.store.launch_count ? this.store.launch_count + 1 : 1;\n\t\tthis.save();\n\n\t\treturn super.start();\n\t}\n\n\tprivate load(){\n\t\tthis.store = LocalStorage.getItemObj('store', {});\n\t}\n\n\tsave(){\n\t\tLocalStorage.setItemObj('store', this.store);\n\t}\n\t\n\tclean(keeps = null){\n\t\tif(keeps){\n\t\t\tfor(let k in this.store){\n\t\t\t\tif(keeps.indexOf(k) < 0 && this.store.hasOwnProperty(k)){\n\t\t\t\t\tdelete this.store[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tthis.store = {};\n\t\t}\n\t\tthis.save();\n\t\tthis._initialized = false;\n\t}\n\n\tget launchCount(){\n\t\treturn this.store.launch_count;\n\t}\n\n\tgetSettingItem(field){\n\t\treturn this.store.setting ? (this.store.setting[field] === undefined ? true : this.store.setting[field]) : true;\n\t}\n\n\tsetSettingItem(field, value, dispatch = true){\n\t\tlet setting = this.store.setting;\n\t\tif(!setting){\n\t\t\tsetting = this.store.setting = {};\n\t\t}\n\n\t\tsetting[field] = value;\n\t\tthis.save();\n\n\t\tif(dispatch){\n\t\t\tthis.dispatchEventWith(SETTING_CHANGED, false, {field, value});\n\t\t}\n\t}\n\n\tswitchSettingItem(field, dispatch = true){\n\t\tthis.setSettingItem(field, !this.getSettingItem(field), dispatch);\n\t}\n}\n\nconst storageService:StorageService = new StorageService();\nexport default storageService;","/**\n * Created by rockyl on 2017/1/20.\n *\n * 游戏配置\n */\n\nexport default class GameConfig extends egret.HashObject {\n\tstatic gameName: string = 'curse-demo';\n\n\tstatic gameConfig: any = {};\n\tstatic appConfig: any = {};\n\tstatic defenseConfig: any = {};\n\n\tstatic parseConfig() {\n\t\tconst {gameInfo, appInfo, defenseStrategy} = window['CFG'];\n\t\tconst {gameConfig, appConfig, defenseConfig} = this;\n\n\t\tconst {id, oaId, gameId} = gameInfo;\n\t\tgameConfig.id = id;\n\t\tgameConfig.oaId = oaId;\n\t\tgameConfig.gameId = gameId || window['gameId'];\n\n\t\tconst {appId, earnCreditsUrl, open, openLogin} = appInfo;\n\t\tappConfig.appId = appId;\n\t\tappConfig.earnCreditsUrl = earnCreditsUrl;\n\t\tappConfig.open = open;\n\t\tappConfig.openLogin = openLogin;\n\n\t\tconst {interfaceLimit = 50, scoreUnit = 0} = defenseStrategy;\n\t\tdefenseConfig.interfaceLimit = interfaceLimit;\n\t\tdefenseConfig.scoreUnit = scoreUnit;\n\t}\n\n\tstatic initData() {\n\n\t}\n}\n","/**\n * Created by rockyl on 2018/8/21.\n */\n \nexport default class GameInfo{\n\tdata:any;\n\n\tcreditUnit;\n\n\tupdate(data){\n\t\tthis.data = data;\n\t\tthis.data.oldMaxScore = this.data ? this.maxScore : 0;\n\t}\n\n\tget statusCode(){\n\t\treturn this.data.status.code;\n\t}\n\n\tget maxScore(){\n\t\treturn this.data.maxScore || 0;\n\t}\n\n\tget percentage(){\n\t\treturn this.data.percentage;\n\t}\n\n\tget credits(){\n\t\treturn this.data.credits;\n\t}\n\n\tget status(){\n\t\treturn this.data.status;\n\t}\n\t\n\tget gameId(){\n\t\t return this.data.gameId;\n\t}\n\n\tget consumerId(){\n\t\t return this.data.consumerId;\n\t}\n}\n","/**\n * Created by rockyl on 2018/9/12.\n *\n * 数据中心\n */\n\nimport GameInfo from \"./GameInfo\";\n\nexport const gameInfo: GameInfo = new GameInfo();\nexport const authData: any = {};\nexport const pluginInfos = {};\n","/**\n * Created by admin on 2017/5/23.\n *\n * 常量名词\n */\n\nexport const SCENE_STORY:string = 'scene_story';\nexport const SCENE_MENU:string = 'scene_menu';\nexport const SCENE_PLAY:string = 'scene_play';\nexport const SCENE_MISSION:string = 'scene_mission';\nexport const SCENE_DRAW_REWARD:string = 'scene_draw-reward';\nexport const SCENE_FINAL_REWARD:string = 'scene_final_reward';\n\nexport const PANEL_ALERT:string = 'panel_alert';\nexport const PANEL_RULE:string = 'panel_rule';\nexport const PANEL_RESULT:string = 'panel_result';","/**\n * Created by rockyl on 16/3/9.\n */\n\n\nfunction rotateLeft (lValue, iShiftBits) {\n\treturn (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\n}\nfunction addUnsigned (lX, lY) {\n\tvar lX4, lY4, lX8, lY8, lResult;\n\tlX8 = (lX & 0x80000000);\n\tlY8 = (lY & 0x80000000);\n\tlX4 = (lX & 0x40000000);\n\tlY4 = (lY & 0x40000000);\n\tlResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n\tif (lX4 & lY4) return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n\tif (lX4 | lY4) {\n\t\tif (lResult & 0x40000000) return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n\t\telse return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n\t} else {\n\t\treturn (lResult ^ lX8 ^ lY8);\n\t}\n}\nfunction F (x, y, z) {\n\treturn (x & y) | ((~x) & z);\n}\nfunction G (x, y, z) {\n\treturn (x & z) | (y & (~z));\n}\nfunction H (x, y, z) {\n\treturn (x ^ y ^ z);\n}\nfunction I (x, y, z) {\n\treturn (y ^ (x | (~z)));\n}\nfunction FF (a, b, c, d, x, s, ac) {\n\ta = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));\n\treturn addUnsigned(rotateLeft(a, s), b);\n};\nfunction GG (a, b, c, d, x, s, ac) {\n\ta = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));\n\treturn addUnsigned(rotateLeft(a, s), b);\n};\nfunction HH (a, b, c, d, x, s, ac) {\n\ta = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));\n\treturn addUnsigned(rotateLeft(a, s), b);\n};\nfunction II (a, b, c, d, x, s, ac) {\n\ta = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));\n\treturn addUnsigned(rotateLeft(a, s), b);\n};\nfunction convertToWordArray (string) {\n\tvar lWordCount;\n\tvar lMessageLength = string.length;\n\tvar lNumberOfWordsTempOne = lMessageLength + 8;\n\tvar lNumberOfWordsTempTwo = (lNumberOfWordsTempOne - (lNumberOfWordsTempOne % 64)) / 64;\n\tvar lNumberOfWords = (lNumberOfWordsTempTwo + 1) * 16;\n\tvar lWordArray = Array(lNumberOfWords - 1);\n\tvar lBytePosition = 0;\n\tvar lByteCount = 0;\n\twhile (lByteCount < lMessageLength) {\n\t\tlWordCount = (lByteCount - (lByteCount % 4)) / 4;\n\t\tlBytePosition = (lByteCount % 4) * 8;\n\t\tlWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));\n\t\tlByteCount++;\n\t}\n\tlWordCount = (lByteCount - (lByteCount % 4)) / 4;\n\tlBytePosition = (lByteCount % 4) * 8;\n\tlWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\n\tlWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n\tlWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n\treturn lWordArray;\n};\nfunction wordToHex (lValue) {\n\tvar WordToHexValue = \"\", WordToHexValueTemp = \"\", lByte, lCount;\n\tfor (lCount = 0; lCount <= 3; lCount++) {\n\t\tlByte = (lValue >>> (lCount * 8)) & 255;\n\t\tWordToHexValueTemp = \"0\" + lByte.toString(16);\n\t\tWordToHexValue = WordToHexValue + WordToHexValueTemp.substr(WordToHexValueTemp.length - 2, 2);\n\t}\n\treturn WordToHexValue;\n};\nfunction uTF8Encode (string) {\n\tstring = string.replace(/\\x0d\\x0a/g, \"\\x0a\");\n\tvar output = \"\";\n\tfor (var n = 0; n < string.length; n++) {\n\t\tvar c = string.charCodeAt(n);\n\t\tif (c < 128) {\n\t\t\toutput += String.fromCharCode(c);\n\t\t} else if ((c > 127) && (c < 2048)) {\n\t\t\toutput += String.fromCharCode((c >> 6) | 192);\n\t\t\toutput += String.fromCharCode((c & 63) | 128);\n\t\t} else {\n\t\t\toutput += String.fromCharCode((c >> 12) | 224);\n\t\t\toutput += String.fromCharCode(((c >> 6) & 63) | 128);\n\t\t\toutput += String.fromCharCode((c & 63) | 128);\n\t\t}\n\t}\n\treturn output;\n};\n\nexport function md5(string) {\n\tvar x = Array();\n\tvar k, AA, BB, CC, DD, a, b, c, d;\n\tvar S11 = 7, S12 = 12, S13 = 17, S14 = 22;\n\tvar S21 = 5, S22 = 9, S23 = 14, S24 = 20;\n\tvar S31 = 4, S32 = 11, S33 = 16, S34 = 23;\n\tvar S41 = 6, S42 = 10, S43 = 15, S44 = 21;\n\tstring = uTF8Encode(string);\n\tx = convertToWordArray(string);\n\ta = 0x67452301;\n\tb = 0xEFCDAB89;\n\tc = 0x98BADCFE;\n\td = 0x10325476;\n\tfor (k = 0; k < x.length; k += 16) {\n\t\tAA = a;\n\t\tBB = b;\n\t\tCC = c;\n\t\tDD = d;\n\t\ta = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478);\n\t\td = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);\n\t\tc = FF(c, d, a, b, x[k + 2], S13, 0x242070DB);\n\t\tb = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);\n\t\ta = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF);\n\t\td = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);\n\t\tc = FF(c, d, a, b, x[k + 6], S13, 0xA8304613);\n\t\tb = FF(b, c, d, a, x[k + 7], S14, 0xFD469501);\n\t\ta = FF(a, b, c, d, x[k + 8], S11, 0x698098D8);\n\t\td = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);\n\t\tc = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1);\n\t\tb = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);\n\t\ta = FF(a, b, c, d, x[k + 12], S11, 0x6B901122);\n\t\td = FF(d, a, b, c, x[k + 13], S12, 0xFD987193);\n\t\tc = FF(c, d, a, b, x[k + 14], S13, 0xA679438E);\n\t\tb = FF(b, c, d, a, x[k + 15], S14, 0x49B40821);\n\t\ta = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562);\n\t\td = GG(d, a, b, c, x[k + 6], S22, 0xC040B340);\n\t\tc = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51);\n\t\tb = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);\n\t\ta = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D);\n\t\td = GG(d, a, b, c, x[k + 10], S22, 0x2441453);\n\t\tc = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681);\n\t\tb = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);\n\t\ta = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6);\n\t\td = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);\n\t\tc = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87);\n\t\tb = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);\n\t\ta = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905);\n\t\td = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);\n\t\tc = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9);\n\t\tb = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);\n\t\ta = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942);\n\t\td = HH(d, a, b, c, x[k + 8], S32, 0x8771F681);\n\t\tc = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122);\n\t\tb = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);\n\t\ta = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44);\n\t\td = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);\n\t\tc = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60);\n\t\tb = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);\n\t\ta = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6);\n\t\td = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);\n\t\tc = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085);\n\t\tb = HH(b, c, d, a, x[k + 6], S34, 0x4881D05);\n\t\ta = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039);\n\t\td = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);\n\t\tc = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8);\n\t\tb = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);\n\t\ta = II(a, b, c, d, x[k + 0], S41, 0xF4292244);\n\t\td = II(d, a, b, c, x[k + 7], S42, 0x432AFF97);\n\t\tc = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7);\n\t\tb = II(b, c, d, a, x[k + 5], S44, 0xFC93A039);\n\t\ta = II(a, b, c, d, x[k + 12], S41, 0x655B59C3);\n\t\td = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);\n\t\tc = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D);\n\t\tb = II(b, c, d, a, x[k + 1], S44, 0x85845DD1);\n\t\ta = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F);\n\t\td = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);\n\t\tc = II(c, d, a, b, x[k + 6], S43, 0xA3014314);\n\t\tb = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);\n\t\ta = II(a, b, c, d, x[k + 4], S41, 0xF7537E82);\n\t\td = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);\n\t\tc = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB);\n\t\tb = II(b, c, d, a, x[k + 9], S44, 0xEB86D391);\n\t\ta = addUnsigned(a, AA);\n\t\tb = addUnsigned(b, BB);\n\t\tc = addUnsigned(c, CC);\n\t\td = addUnsigned(d, DD);\n\t}\n\tvar tempValue = wordToHex(a) + wordToHex(b) + wordToHex(c) + wordToHex(d);\n\treturn tempValue.toLowerCase();\n}","/**\n * Created by rockyl on 15/12/16.\n *\n * 网络服务\n */\n\nimport {Ajax, EgretUtils} from \"@alienlib/tools\";\n\nconst WEB_SERVICE_URL: string = DEBUG ? 'https://localhost:3000' : '';\n\nclass WebService {\n\t/**\n\t * 调用API\n\t * @param uri\n\t * @param params\n\t * @param method\n\t * @param responseType\n\t */\n\tcallApi(uri: string, params: any = null, method: string = 'post', responseType = 'json'): Promise<any> {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\n\t\tlet url: string = WEB_SERVICE_URL + uri;\n\n\t\tlet m: Function = method == 'post' ? Ajax.POST : Ajax.GET;\n\n\t\treturn m.call(Ajax, url, params).then(\n\t\t\t(response) => {\n\t\t\t\tlet data;\n\t\t\t\tswitch (responseType) {\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdata = JSON.parse(response);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif(DEBUG) console.log('decode json failed: ' + url);\n\t\t\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\treturn data.data || data;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn Promise.reject(data.message || data.desc);\n\t\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn response;\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tif (DEBUG) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t\treturn Promise.reject(error);\n\t\t\t}\n\t\t);\n\t}\n\n\tpolling(successFunc, uri, params, maxTimes = 5, delay = 400, method = 'POST', responseType = 'json'): Promise<any> {\n\t\tlet p = Promise.resolve();\n\n\t\tfor (let i = 0; i < maxTimes; i++) {\n\t\t\tp = p.then(func);\n\t\t\tp = p.then(() => {\n\t\t\t\treturn EgretUtils.waitPromise(delay)\n\t\t\t})\n\t\t}\n\n\t\tconst callApi = this.callApi;\n\t\tlet lastData;\n\n\t\treturn p.then(\n\t\t\t() => {\n\t\t\t\treturn Promise.reject(null);\n\t\t\t},\n\t\t\t(e) => {\n\t\t\t\tif (e === 'success') {\n\t\t\t\t\treturn Promise.resolve(lastData);\n\t\t\t\t}\n\n\t\t\t\treturn Promise.reject(e);\n\t\t\t}\n\t\t);\n\n\t\tfunction func() {\n\t\t\treturn callApi(uri, params, method, responseType).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tif (successFunc(data)) {\n\t\t\t\t\t\tlastData = data;\n\t\t\t\t\t\treturn Promise.reject('success');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t(e) => {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst webService = new WebService();\nexport default webService;\n","/**\n * Created by rockyl on 2018/8/21.\n *\n * api\n */\n\nimport {injectProp} from \"@alienlib/tools/Utils\";\nimport {md5} from \"@alienlib/tools/md5\";\nimport webService from \"../../core/WebService\";\nimport {authData, gameInfo, pluginInfos} from \"../model/data-center\";\nimport GameConfig from \"../model/GameConfig\";\n\nexport async function getToken() {\n\treturn new Promise((resolve, reject) => {\n\t\tif (window['getDuibaToken']) {\n\t\t\tgetDuibaToken(\n\t\t\t\t({token}) => {\n\t\t\t\t\tresolve(token);\n\t\t\t\t},\n\t\t\t\t(key, msg) => {\n\t\t\t\t\treject(msg);\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tresolve();\n\t\t}\n\t});\n}\n\nexport async function getCredits() {\n\tconst {unitName, credits} = await webService.callApi(\n\t\t'/ctool/getCredits',\n\t\t{},\n\t\t'get'\n\t);\n\n\tgameInfo.creditUnit = unitName;\n}\n\nexport async function getInfo() {\n\tgameInfo.update(\n\t\tawait webService.callApi(\n\t\t\t'/ngame/new/getInfo',\n\t\t\t{id: GameConfig.gameConfig.gameId},\n\t\t\t'get'\n\t\t)\n\t);\n}\n\nexport async function getRule() {\n\treturn await webService.callApi(\n\t\t'/ngapi/getRule',\n\t\t{id: GameConfig.gameConfig.gameId},\n\t\t'post',\n\t\t'html'\n\t)\n}\n\nexport async function getRealtimeRank(type, count = 50) {\n\treturn await webService.callApi(\n\t\t'/ngapi/realtimerank/' + type,\n\t\t{\n\t\t\tid: GameConfig.gameConfig.gameId,\n\t\t\tcount,\n\t\t},\n\t\t'get'\n\t)\n}\n\nexport async function doStart(credits = null, customizedType = null) {\n\tlet {gameId, oaId} = GameConfig.gameConfig;\n\n\tconst params: any = {\n\t\tid: gameId,\n\t\toaId: oaId\n\t};\n\n\tif (credits) {\n\t\tparams.credits = credits;\n\t}\n\tif (customizedType) {\n\t\tparams.customizedType = customizedType;\n\t}\n\n\tparams.token = await getToken();\n\tconst {token, submitToken, ticketId} = await webService.callApi(\n\t\t'/ngapi/dostart',\n\t\tparams\n\t);\n\n\tinjectProp(authData, {\n\t\ttoken: devil(token),\n\t\tsubmitToken: devil(submitToken),\n\t\tticketId\n\t})\n}\n\nexport async function getStartStatus(ticketId, customizedType = null) {\n\tconst params: any = {\n\t\tticketId: ticketId\n\t};\n\tif (customizedType) {\n\t\tparams.customizedType = customizedType\n\t}\n\n\treturn await webService.polling(\n\t\tdata => {\n\t\t\treturn data.code === 1\n\t\t},\n\t\t'/ngapi/getStartStatus',\n\t\tparams\n\t);\n}\n\nexport async function getPrizeInfo(activityId) {\n\tpluginInfos[activityId] = await webService.callApi(\n\t\t'/activityPlugDrawInfo/getPrizeInfo',\n\t\t{activityId},\n\t\t'get'\n\t);\n}\n\nexport async function plugDrawInfo(activityId) {\n\tconst {plugin} = await webService.callApi(\n\t\t'/plugin/plugDrawInfo',\n\t\t{id: activityId},\n\t\t'get'\n\t);\n\n}\n\nexport async function datapash(collection) {\n\tawait webService.callApi(\n\t\t'/ngame/new/datapash',\n\t\t{\n\t\t\tgameId: GameConfig.gameConfig.id,\n\t\t\tticketId: authData.ticketId,\n\t\t\tdynamicData: JSON.stringify(collection),\n\t\t}\n\t);\n}\n\nexport async function getRankRewardList(showName = false) {\n\treturn webService.callApi(\n\t\t'/ngapi/winranks',\n\t\t{\n\t\t\tid: GameConfig.gameConfig.gameId,\n\t\t\tshowName,\n\t\t}\n\t);\n}\n\nexport async function draw(activityId, deductCredits = false) {\n\tconst {orderId} = await doJoinPlugDraw(activityId, deductCredits);\n\treturn getPlugOrderStatus(orderId);\n}\n\nexport async function doJoinPlugDraw(activityId, deductCredits = false) {\n\treturn webService.callApi(\n\t\t'/activityPlugDrawInfo/doJoinPlugdraw',\n\t\t{activityId, deductCredits}\n\t);\n}\n\nexport async function getPlugOrderStatus(orderId) {\n\treturn webService.polling(\n\t\tfunction (data) {\n\t\t\treturn data.result != 0;\n\t\t},\n\t\t'/plugin/getOrderStatus',\n\t\t{orderId},\n\t\t10,\n\t);\n}\n\nexport async function gameSubmit(score, gameData = [], dynamicData = [[]]) {\n\tconst {submitToken, ticketId} = authData;\n\n\tconst gameDataStr = JSON.stringify(gameData);\n\tconst dynamicDataStr = JSON.stringify(dynamicData);\n\n\tlet sign = md5(ticketId + '' + score + '' + gameDataStr + '' + submitToken);\n\n\tconst data = await webService.callApi(\n\t\t'/ngame/new/submit',\n\t\t{\n\t\t\tticketId,\n\t\t\tscore,\n\t\t\tgameData: gameDataStr,\n\t\t\tsgin: sign,\n\t\t\tdynamicData: dynamicDataStr\n\t\t}\n\t);\n\n\tgameInfo.update(data.rsp);\n\n\treturn data;\n}\n\nexport async function getSubmitResult(orderId) {\n\tconst params: any = {\n\t\torderId\n\t};\n\n\treturn await webService.polling(\n\t\tdata => {\n\t\t\treturn !data.flag;\n\t\t},\n\t\t'/ngame/new/getSubmitResult',\n\t\tparams\n\t);\n}\n\nexport async function getBaiduGameInfo() {\n\tupdateBaiduGameInfo(await webService.callApi(\n\t\t'/aaw/baidu/api/getInfo',\n\t\t{\n\t\t\tactivityId: GameConfig.gameConfig.gameId,\n\t\t},\n\t\t'get'\n\t));\n}\n\nexport async function addTimes(type) {\n\treturn webService.callApi(\n\t\t'/aaw/baidu/api/addTimes',\n\t\t{\n\t\t\tactivityId: GameConfig.gameConfig.gameId,\n\t\t\ttype,\n\t\t},\n\t\t'get'\n\t);\n}\n\nexport async function doPlay() {\n\treturn webService.callApi(\n\t\t'/aaw/baidu/api/doPlay',\n\t\t{\n\t\t\tactivityId: GameConfig.gameConfig.gameId,\n\t\t}\n\t);\n}\n","/**\n * Created by admin on 2017/6/26.\n *\n * 主服务\n */\n\nimport GameConfig from \"../model/GameConfig\";\nimport Service from \"../../core/Service\";\nimport * as api from '../net/api'\nimport {authData, gameInfo} from \"../model/data-center\";\nimport {SCENE_FINAL_REWARD, SCENE_MENU} from \"../model/constants\";\nimport {PopUpManager} from \"@alienlib/popup\";\nimport SceneController from \"../../core/view/SceneController\";\nimport {doStart, getStartStatus, gameSubmit, getSubmitResult} from \"../net/api\";\n\nclass MainService extends Service {\n\tprivate playing;\n\n\tasync start() {\n\t\tGameConfig.parseConfig();\n\n\t\tawait super.start();\n\n\t\t// await Promise.all([\n\t\t// \tapi.getInfo(),\n\t\t// \t//api.getCredits(),\n\t\t// \t//api.getPrizeInfo(drawPluginId),\n\t\t// \t//api.plugDrawInfo(drawPluginId),\n\t\t// ])\n\t}\n\n\tafterStart() {\n\t\t// const code = gameInfo.statusCode;\n\t\t// const sceneName = code == 4 || code == 5 ? SCENE_FINAL_REWARD :\n\t\t// \tSCENE_MENU;\n\n\t\tPopUpManager.removeAllPupUp();\n\t\tSceneController.popAll(SCENE_MENU);\n\t}\n\n\tasync tryStartGame() {\n\t\tif(this.playing){\n\t\t\treturn ;\n\t\t}\n\n\t\tawait doStart();\n\t\tconst {ticketId} = authData;\n\t\tawait getStartStatus(ticketId);\n\n\t\tthis.playing = true;\n\t}\n\n\tasync trySubmit(score, collection?, strategyCollection?) {\n\t\tconst {orderId} = await gameSubmit(score, strategyCollection, collection);\n\t\tconst result = getSubmitResult(orderId);\n\n\t\tthis.playing = false;\n\n\t\treturn result;\n\t}\n}\n\nconst mainService: MainService = new MainService();\nexport default mainService\n","/**\n * Created by rockyl on 2018/8/23.\n *\n * 防作弊服务\n */\n\nimport Service from \"../../core/Service\";\nimport GameConfig from \"../model/GameConfig\";\nimport * as api from \"../net/api\";\n\nclass DefenseService extends Service {\n\tcollection: any[] = [];\n\tstrategyCollection: any[] = [];\n\tpashCount;\n\n\tsetView(view){\n\t\tthis.registerEvent(view, egret.TouchEvent.TOUCH_BEGIN, this.onTouch.bind(this, 'md'), this);\n\t}\n\n\treset() {\n\t\tthis.collection.splice(0);\n\t\tthis.strategyCollection.splice(0);\n\t\tthis.pashCount = 0;\n\t}\n\n\tprivate onTouch(type, e:egret.TouchEvent){\n\t\tconst data = { a: type, t: Date.now(), x: e.stageX, y: e.stageY };\n\t\t/*let str = JSON.stringify(data);\n\t\tstr = md5(str);\n\t\tlet result = '';\n\t\tfor(let i = 0, li = str.length; i < li; i++){\n\t\t\tresult += Math.random() < 0.3 ? str.charAt(i) : '';\n\t\t}*/\n\t\tthis.strategyCollection.push(data)\n\t}\n\n\tscoreChanged(score){\n\t\tconst {interfaceLimit, scoreUnit} = GameConfig.defenseConfig;\n\n\t\tconst nextDatapashScore = score - this.pashCount * scoreUnit;\n\t\tif (scoreUnit == 0 || nextDatapashScore < scoreUnit || this.pashCount > interfaceLimit) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.collection.push(this.strategyCollection.concat());\n\t\tapi.datapash(this.strategyCollection);\n\t\tthis.strategyCollection.splice(0);\n\t\tthis.pashCount++;\n\t}\n\t\n\tclose(){\n\t\tthis.collection.push(this.strategyCollection.concat());\n\t\t\n\t\treturn {\n\t\t\tstrategyCollection: this.strategyCollection,\n\t\t\tcollection: this.collection,\n\t\t}\n\t}\n}\n\nconst defenseService: DefenseService = new DefenseService();\nexport default defenseService;","/**\n * Created by rockyl on 2018/7/24.\n *\n * 埋点\n */\n\nexport default class BuriedPoint {\n\tdpm: string;\n\tdcm: string;\n\n\tconstructor(dpm, dcm, env){\n\n\t\tthis.dpm = this.fill(dpm, env);\n\t\tthis.dcm = this.fill(dcm, env);\n\t}\n\n\tfill(src, env){\n\t\tlet result = src;\n\t\tfor(let key in env){\n\t\t\tresult = result.replace(key, env[key]);\n\t\t}\n\t\treturn result;\n\t}\n}\n","/**\n * Created by rockyl on 2018/9/29.\n *\n * 埋点服务\n */\n\nimport Service from \"../../core/Service\";\nimport GameConfig from \"../model/GameConfig\";\nimport {JSONP} from \"@alienlib/tools/Ajax\";\nimport BuriedPoint from \"../model/BuriedPoint\";\nimport {gameInfo} from \"../model/data-center\";\nimport webService from \"../../core/WebService\";\n\nclass BuriedPointService extends Service {\n\tprivate _buriedPoints: any = {};\n\n\tenv: any;\n\n\tasync start(): Promise<void> {\n\t\tawait super.start();\n\n\t\tthis.initEnv();\n\t}\n\n\tinitEnv(){\n\t\tthis.env = {\n\t\t\tapp_id: GameConfig.appConfig.appId,\n\t\t\toaid: GameConfig.gameConfig.oaId,\n\t\t}\n\t}\n\n\taddBuriedPoints(buriedPoints) {\n\t\tfor (let name in buriedPoints) {\n\t\t\tthis._buriedPoints[name] = buriedPoints[name];\n\t\t}\n\t}\n\n\taddBuriedPointConfig(name, config) {\n\t\tconst {dpm, dcm} = config;\n\t\tthis._buriedPoints[name] = new BuriedPoint(dpm, dcm, this.env);\n\t}\n\n\taddBuriedPointConfigs(configs) {\n\t\tfor (let name in configs) {\n\t\t\tthis.addBuriedPointConfig(name, configs[name]);\n\t\t}\n\t}\n\n\tlogExposure(name) {\n\t\treturn this.log(name, 'exposure');\n\t}\n\n\tlogClick(name) {\n\t\treturn this.log(name, 'click');\n\t}\n\n\tlog(name, type) {\n\t\t// let logPoint = this._buriedPoints[name];\n\n\t\t// let {consumerId} = gameInfo;\n\t\t// let {appId} = GameConfig.appConfig;\n\t\t// let {dpm, dcm} = logPoint;\n\n\t\t// if (type == 'exposure') {\n\t\t// \treturn JSONP('//embedlog.duiba.com.cn/exposure/standard', {\n\t\t// \t\tdpm, dcm, consumerId, appId,\n\t\t// \t}, 'get').catch(e => {\n\t\t// \t\t//console.log(e);\n\t\t// \t});\n\t\t// } else {\n\t\t// \treturn webService.callApi(\n\t\t// \t\t'/log/click',\n\t\t// \t\t{\n\t\t// \t\t\tdpm, dcm, consumerId, appId\n\t\t// \t\t},\n\t\t// \t\t'get'\n\t\t// \t).catch(e => {\n\t\t// \t\t//console.log(e);\n\t\t// \t});\n\t\t// }\n\t\tconsole.log('log',name,type)\n\t}\n}\n\nconst buriedPointService: BuriedPointService = new BuriedPointService();\nexport default buriedPointService;\n","/**\n * Created by rockyl on 2018/8/23.\n *\n * 任务服务\n */\n\nimport {BADGE_CHANGED} from \"../model/events\";\nimport Service from \"../../core/Service\";\n\nclass BadgeService extends Service {\n\titems: any;\n\n\tasync start(): Promise<void> {\n\t\tawait super.start();\n\n\t\tthis.items = {};\n\t}\n\n\tprivate getItem(name){\n\t\tlet item = this.items[name];\n\t\tif(!item){\n\t\t\titem = this.items[name] = {\n\t\t\t\tnumber: 0,\n\t\t\t};\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tprivate updateItem(name, item, number){\n\t\titem.number = number;\n\t\t\n\t\tthis.dispatchEventWith(BADGE_CHANGED, false, {name, number})\n\t}\n\n\tupdate(name, number){\n\t\tconst item = this.getItem(name);\n\t\tthis.updateItem(name, item, number);\n\t}\n\n\tchange(name, number){\n\t\tconst item = this.getItem(name);\n\t\tthis.updateItem(name, item, item.number + number);\n\t}\n\t\n\tgetNumber(name){\n\t\tconst item = this.getItem(name);\n\t\treturn item.number;\n\t}\n}\n\nconst badgeService: BadgeService = new BadgeService();\nexport default badgeService;\n","/**\n * Created by rockyl on 2018/10/10.\n *\n * 脚本组件基类\n */\n\nimport eventManager from \"@alienlib/support/EventManager\";\n\nexport default class CurseComponent extends egret.HashObject{\n\tprotected host;\n\n\tprivate get eventGroupName() {\n\t\treturn this['__class__'] + '_' + this.hashCode;\n\t}\n\n\tregisterEvent(target: any, eventName: any, callback: Function, thisObj: any, priority: number = 0): void {\n\t\teventManager.register(this.eventGroupName, target, eventName, callback, thisObj, priority);\n\t}\n\n\tenableEvents() {\n\t\teventManager.enable(this.eventGroupName);\n\t}\n\n\tdisableEvents() {\n\t\teventManager.disable(this.eventGroupName);\n\t}\n\n\t/**\n\t * 初始化\n\t */\n\tprotected onCreate() {\n\t\t\n\t}\n\n\t/**\n\t * 唤醒\n\t */\n\tprotected awake() {\n\t\tthis.enableEvents();\n\t}\n\n\t/**\n\t * 沉睡\n\t */\n\tprotected sleep() {\n\t\tthis.disableEvents();\n\t}\n\n\t/**\n\t * 销毁\n\t */\n\tprotected destroy() {\n\n\t}\n}","/**\n * Created by rockyl on 16/3/9.\n */\nimport {IAnimation} from \"./IAnimation\";\n\nexport function round(h: number, t: number): any {\n\treturn {x: Math.cos(t) * h, y: Math.sin(t) * h};\n}\n\nexport function cos(h: number, t: number): any {\n\treturn {x: Math.cos(t) * h, y: 0};\n}\n\nexport function sin(h: number, t: number): any {\n\th = h || 1;\n\treturn {x: 0, y: Math.sin(t) * h};\n}\n\nexport function rotate(t: number): any {\n\treturn {r: 360 * t / Math.PI / 2};\n}\n\nexport function shake(angle: number, count: number, t: number): any {\n\treturn {r: Math.sin(t * count) * angle};\n}\n\nexport function breath(scale: number = 0.1, t: number): any {\n\treturn {sx: Math.sin(t) * scale + 1, sy: -Math.sin(t + Math.PI / 4) * scale + 1};\n}\n\nexport function zoom(scale: number = 0.1, t: number): any {\n\treturn {sx: Math.sin(t) * scale + 1, sy: Math.sin(t) * scale + 1};\n}\n\nexport function fade(base = 1, t: number): any {\n\treturn {alpha: (Math.sin(t) + 1) * 0.5 + base};\n}\n\nexport class Wave implements IAnimation {\n\t_tween: egret.Tween;\n\n\ttarget: any;\n\tduration: number;\n\tdelay: number;\n\toffset: number;\n\tloop: number;\n\treverse: boolean;\n\tprivate _calProps;\n\tprivate _oldProperties: any = {};\n\tprivate _count;\n\n\tconstructor(target: any, duration: number, calProps: Function = null, loop: number = 0, autoPlay: boolean = true, reverse: boolean = false, delay: number = 0, offset: number = 0) {\n\t\tthis.target = target;\n\t\tthis._calProps = calProps ? calProps : Wave.round;\n\t\tthis.duration = duration;\n\t\tthis.loop = loop;\n\t\tthis.reverse = reverse;\n\t\tthis.delay = delay;\n\t\tthis.offset = offset;\n\n\t\tthis.updateRegisterPos();\n\n\t\tif (autoPlay) {\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tupdateRegisterPos(): void {\n\t\tthis._oldProperties.x = this.target.x;\n\t\tthis._oldProperties.y = this.target.y;\n\t\tthis._oldProperties.scaleX = this.target.scaleX;\n\t\tthis._oldProperties.scaleY = this.target.scaleY;\n\t\tthis._oldProperties.skewX = this.target.skewX;\n\t\tthis._oldProperties.skewY = this.target.skewY;\n\t\tthis._oldProperties.rotation = this.target.rotation;\n\t\tthis._oldProperties.alpha = this.target.alpha;\n\t}\n\n\tplay() {\n\t\tif (this._tween) {\n\t\t\treturn this._tween;\n\t\t}\n\n\t\tthis._count = 0;\n\t\treturn this._playStep();\n\t}\n\n\t_playStep() {\n\t\tif (this.loop > 0 && this._count >= this.loop) {\n\t\t\tthis.stop();\n\n\t\t\treturn;\n\t\t}\n\t\tthis._count++;\n\n\t\tthis.t = this.reverse ? Math.PI * 2 : 0;\n\n\t\tthis._tween = egret.Tween.get(this);\n\t\tthis._tween.wait(this.delay).to({t: this.reverse ? 0 : Math.PI * 2}, this.duration).call(this._playStep, this);\n\n\t\treturn this._tween;\n\t}\n\n\tprivate _t: number = 0;\n\tprivate get t(): number {\n\t\treturn this._t;\n\t}\n\n\tprivate set t(value: number) {\n\t\tif (!this.target.stage) {\n\t\t\treturn;\n\t\t}\n\t\tthis._t = value;\n\t\tlet props: any = this._calProps.call(this, this._t + this.offset);\n\t\tif (props.hasOwnProperty('x')) {\n\t\t\tthis.target.x = (props.x || 0) + this._oldProperties.x;\n\t\t}\n\t\tif (props.hasOwnProperty('y')) {\n\t\t\tthis.target.y = (props.y || 0) + this._oldProperties.y;\n\t\t}\n\t\tif (props.hasOwnProperty('sx')) {\n\t\t\tthis.target.scaleX = props.sx;\n\t\t}\n\t\tif (props.hasOwnProperty('sy')) {\n\t\t\tthis.target.scaleY = props.sy;\n\t\t}\n\t\tif (props.hasOwnProperty('skewX')) {\n\t\t\tthis.target.skewX = props.skewX;\n\t\t}\n\t\tif (props.hasOwnProperty('skewY')) {\n\t\t\tthis.target.skewY = props.skewY;\n\t\t}\n\t\tif (props.hasOwnProperty('r')) {\n\t\t\tthis.target.rotation = props.r;\n\t\t}\n\t\tif (props.hasOwnProperty('alpha')) {\n\t\t\tthis.target.alpha = props.alpha;\n\t\t}\n\t}\n\n\tstop(recovery: boolean = false, animation: boolean = false, duration: number = 1000): void {\n\t\tif (!this._tween) {\n\t\t\treturn;\n\t\t}\n\t\tegret.Tween.removeTweens(this);\n\n\t\tif (recovery) {\n\t\t\tegret.Tween.get(this.target).to(this._oldProperties, duration);\n\t\t}\n\t\tthis._tween = null;\n\t}\n\n\tget playing(): boolean {\n\t\treturn this._tween != null;\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/10.\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport {breath, Wave} from \"@alienlib/animation/wave\";\nimport {anchorCenter} from \"@alienlib/tools/Utils\";\n\nexport default class Breath extends CurseComponent{\n\tduration: number = 2000;\n\tscaleOffset: number = 0.1;\n\n\twave: Wave;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tanchorCenter(this.host);\n\t\tthis.wave = new Wave(this.host, this.duration, breath.bind(null, this.scaleOffset), 0, false);\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\n\t\tthis.wave.play();\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\n\t\tthis.wave.stop(true);\n\t}\n\n\tsay(){\n\t\tconsole.log('hello')\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/10.\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport buriedPointService from \"../services/BuriedPointService\";\n\nexport default class BuriedPointButton extends CurseComponent {\n\tdpm: string;\n\tdcm: string;\n\n\tprivate buriedPointName: string;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tthis.buriedPointName = 'buried-point-' + Date.now();\n\t\tburiedPointService.addBuriedPointConfig(\n\t\t\tthis.buriedPointName,\n\t\t\t{dpm: this.dpm, dcm: this.dcm}\n\t\t);\n\n\t\tthis.registerEvent(this.host, egret.TouchEvent.TOUCH_TAP, this.onHostTap, this);\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\n\t\tburiedPointService.logExposure(this.buriedPointName);\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\n\t}\n\n\tprivate onHostTap(event) {\n\t\tburiedPointService.logClick(this.buriedPointName);\n\t}\n}\n","import CurseComponent from \"@core/curse/CurseComponent\";\nexport default class FadeIn extends CurseComponent {\n    duration: number = 1000;\n    ease = egret.Ease.cubicOut;\n    tween: egret.Tween;\n    protected onCreate() {\n        super.onCreate();\n        this.tween = egret.Tween.get(this.host).set({ alpha: 0 })\n            .to({ alpha: 1 }, this.duration, this.ease);\n        this.tween.setPaused(true);\n    }\n\n    protected awake() {\n        super.awake();\n\n        this.tween.setPaused(false);\n    }\n\n    protected sleep() {\n        super.sleep();\n\n        this.tween.setPaused(true);\n    }\n\n    protected destroy() {\n        super.destroy();\n        egret.Tween.removeTweens(this.host);\n    }\n}\n","import CurseComponent from \"@core/curse/CurseComponent\";\nimport { delayLoad } from \"../Utils\";\nimport Breath from './Breath';\nimport BuriedPointButton from './BuriedPointButton';\nimport FadeIn from './FadeIn';\n\nconst createComponent = (cls, host, options) => {\n\tconst component = new cls();\n\tcomponent.host = host;\n\tfor (const key in options) {\n\t\tif (options.hasOwnProperty(key)) {\n\t\t\tconst val = options[key];\n\t\t\tcomponent[key] = val;\n\t\t}\n\t}\n\tcomponent.onCreate();\n\treturn component;\n}\n\nexport default class SceneMenu extends CurseComponent {\n\tbtnStart: eui.Button = null;\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tthis.components = this.component || [];\n\n\t\tconst breath = createComponent(Breath, this.btnStart, {\n\t\t\tduration: 1000,\n\t\t\tscaleOffset: 0.1\n\t\t});\n\n\t\tconst buriedPointButton = createComponent(BuriedPointButton, this.btnStart, {\n\t\t\tdpm: \"app_id.202.7.1\",\n\t\t\tdcm: \"213.oaid.0.0\"\n\t\t});\n\n\t\tconst fadeIn = createComponent(FadeIn, this.btnStart, {\n\t\t\tduration: 2000,\n\t\t\tease: egret.Ease.cubicOut\n\t\t});\n\n\t\tthis.components.push(breath, buriedPointButton, fadeIn);\n\n\t\tdelayLoad();\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\t\tthis.components.forEach(component => component.awake());\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\t\tthis.components.forEach(component => component.awake());\n\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/10.\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport {delayLoad,} from \"../Utils\";\nimport defenseService from \"../services/DefenseService\";\nimport {broadcast,} from \"@core/curse/Manager\";\nimport {waitPromise} from \"@alienlib/tools/EgretUtils\";\nimport PanelController from \"@core/view/PanelController\";\nimport {PANEL_RESULT} from \"../model/constants\";\nimport SceneController from \"@core/view/SceneController\";\nimport {catchError} from \"@core/ErrorUtils\";\nimport mainService from \"../services/MainService\";\n\nexport default class ScenePlay extends CurseComponent {\n\tbtnAdjust: eui.Button = null;\n\tgrpAdjust: eui.Group = null;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tdefenseService.setView(this.host);\n\n\t\tdelayLoad();\n\n\t\tthis.registerEvent(this.btnAdjust, egret.TouchEvent.TOUCH_TAP, this.onBtnAdjustTap, this);\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\n\t\tbroadcast('reset');\n\t\tthis.showAdjust();\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\n\t\tbroadcast('stopGame');\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\n\t}\n\n\tprivate onBtnAdjustTap(event) {\n\t\tthis.grpAdjust.visible = false;\n\t\tbroadcast('resetOffset');\n\n\t\tcatchError(this.tryStart());\n\t}\n\n\tprivate async tryStart(){\n\t\tawait mainService.tryStartGame();\n\t\tPanelController.instance.close(PANEL_RESULT);\n\t\tthis._startGame();\n\t}\n\n\tprivate async _startGame() {\n\t\tbroadcast('readyGo');\n\t\tawait waitPromise(3000);\n\t\tbroadcast('startGame');\n\t}\n\n\tendGame(score){\n\t\tmainService.trySubmit(score);\n\t\tPanelController.instance.show(PANEL_RESULT, {score}, this.onPanelResult)\n\t}\n\n\tshowAdjust() {\n\t\tthis.grpAdjust.visible = true;\n\t}\n\n\tprivate onPanelResult=(action)=>{\n\t\tif(action == 'retry'){\n\t\t\tcatchError(this.tryStart());\n\t\t}else{\n\t\t\tSceneController.back();\n\t\t}\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/10.\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport SceneController from \"@core/view/SceneController\";\n\nexport default class ButtonBack extends CurseComponent{\n\ttype: number;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tthis.registerEvent(this.host, egret.TouchEvent.TOUCH_TAP, this.onHostTap, this);\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\n\t}\n\n\tprivate onHostTap(event){\n\t\tSceneController.back();\n\t}\n}\n","/**\n * Created by NGames on 2015/3/24.\n */\n\n\nexport class Vector2D {\n\tx: number;\n\ty: number;\n\n\tconstructor(x: number = 0, y: number = 0) {\n\t\tthis.setXY(x, y);\n\t}\n\n\tsetXY(x: number = 0, y: number = 0): void {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tcopyFrom(v2: Vector2D): Vector2D {\n\t\tthis.x = v2.x;\n\t\tthis.y = v2.y;\n\t\treturn this;\n\t}\n\n\tclone(): Vector2D {\n\t\treturn new Vector2D(this.x, this.y);\n\t}\n\n\tzero(): Vector2D {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\treturn this;\n\t}\n\n\tget isZero(): boolean {\n\t\treturn this.x == 0 && this.y == 0;\n\t}\n\n\tnormalize(): Vector2D {\n\t\tlet len: number = this.length;\n\t\tif (len == 0) {\n\t\t\tthis.x = 1;\n\t\t\treturn this;\n\t\t}\n\t\tthis.x /= len;\n\t\tthis.y /= len;\n\t\treturn this;\n\t}\n\n\tget isNormalized(): boolean {\n\t\treturn this.length == 1.0;\n\t}\n\n\ttruncate(max: number): Vector2D {\n\t\tthis.length = Math.min(max, this.length);\n\t\treturn this;\n\t}\n\n\treverse(): Vector2D {\n\t\tthis.x = -this.x;\n\t\tthis.y = -this.y;\n\t\treturn this;\n\t}\n\n\tdotProd(v2: Vector2D): number {\n\t\treturn this.x * v2.x + this.y * v2.y;\n\t}\n\n\tcrossProd(v2: Vector2D): number {\n\t\treturn this.x * v2.y - this.y * v2.x;\n\t}\n\n\tdistSQ(v2: Vector2D): number {\n\t\tlet dx: number = v2.x - this.x;\n\t\tlet dy: number = v2.y - this.y;\n\t\treturn dx * dx + dy * dy;\n\t}\n\n\tdistance(v2: Vector2D): number {\n\t\treturn Math.sqrt(this.distSQ(v2));\n\t}\n\n\tadd(v2: Vector2D): Vector2D {\n\t\tthis.x += v2.x;\n\t\tthis.y += v2.y;\n\t\treturn this;\n\t}\n\n\tsubtract(v2: Vector2D): Vector2D {\n\t\tthis.x -= v2.x;\n\t\tthis.y -= v2.y;\n\t\treturn this;\n\t}\n\n\tmultiply(value: number): Vector2D {\n\t\tthis.x *= value;\n\t\tthis.y *= value;\n\t\treturn this;\n\t}\n\n\tdivide(value: number): Vector2D {\n\t\tthis.x /= value;\n\t\tthis.y /= value;\n\t\treturn this;\n\t}\n\n\tset angle(value: number) {\n\t\tthis.radian = value * Math.PI / 180;\n\t}\n\n\tget angle(): number {\n\t\treturn this.radian * 180 / Math.PI;\n\t}\n\n\tset radian(value: number) {\n\t\tlet len: number = this.length;\n\t\tthis.setXY(Math.cos(value) * len, Math.sin(value) * len);\n\t}\n\n\tget radian(): number {\n\t\treturn Math.atan2(this.y, this.x);\n\t}\n\n\tequals(v2: Vector2D): boolean {\n\t\treturn this.x == v2.x && this.y == v2.y;\n\t}\n\n\tset length(value: number) {\n\t\tlet a: number = this.radian;\n\t\tthis.setXY(Math.cos(a) * value, Math.sin(a) * value);\n\t}\n\n\tget length(): number {\n\t\treturn Math.sqrt(this.lengthSQ);\n\t}\n\n\tget lengthSQ(): number {\n\t\treturn this.x * this.x + this.y * this.y;\n\t}\n\n\tget slope(): number {\n\t\treturn this.y / this.x;\n\t}\n\n\ttoString(): string {\n\t\treturn \"[Vector2D (x:\" + this.x + \", y:\" + this.y + \")]\";\n\t}\n\n\tstatic corner(v1: Vector2D, v2: Vector2D) {\n\t\treturn Math.acos(v1.dotProd(v2) / (v1.length * v2.length));\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/23.\n *\n *\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport {Vector2D} from \"@alienlib/tools/Vector2D\";\nimport {Dispatcher} from \"@alienlib/support\";\nimport {broadcast} from \"@core/curse/Manager\";\n\nexport default class Ball extends CurseComponent {\n\tfactor = 0.005;\n\tmaxSpeed = 10;\n\n\tprivate force: Vector2D;\n\tprivate velocity: Vector2D;\n\tposition: Vector2D;\n\tprivate playing;\n\n\tprivate offset = {\n\t\talpha: 0,\n\t\tbeta: 0,\n\t\tgamma: 0,\n\t};\n\n\tprivate resetWhenNextFrame;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tthis.force = new Vector2D();\n\t\tthis.position = new Vector2D();\n\t\tthis.velocity = new Vector2D();\n\n\t\twindow.addEventListener(\"deviceorientation\", this.onDevicerorientation, true);\n\t\tthis.registerEvent(this.host, egret.Event.ENTER_FRAME, this.onEnterFrame, this);\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\n\t}\n\n\treadyGo(){\n\t\tlet {width, height} = this.host.parent;\n\n\t\tthis.velocity.zero();\n\t\tthis.force.zero();\n\t\tthis.position.setXY(width / 2, height / 2);\n\t\tthis.updatePosition();\n\t}\n\n\tstart(){\n\t\tthis.playing = true;\n\t}\n\n\tstop(){\n\t\tthis.playing = false;\n\t}\n\n\tstopGame(){\n\t\tthis.playing = false;\n\t}\n\n\tresetOffset() {\n\t\tthis.resetWhenNextFrame = true;\n\t}\n\n\tprivate updatePosition(){\n\t\tconst ball = this.host;\n\n\t\tball.x = this.position.x;\n\t\tball.y = this.position.y;\n\t}\n\n\tprivate onEnterFrame(event) {\n\t\tif(!this.playing){\n\t\t\treturn;\n\t\t}\n\n\t\tthis.velocity.add(this.force);\n\t\tthis.velocity.truncate(this.maxSpeed);\n\t\tthis.position.add(this.velocity);\n\n\t\tlet {x, y} = this.position;\n\t\tlet {width, height} = this.host.parent;\n\n\t\tthis.position.x = x < 0 ? 0 : (x > width ? width : x);\n\t\tthis.position.y = y < 0 ? 0 : (y > height ? height : y);\n\n\t\tthis.updatePosition();\n\n\t\tif (x < 0 || x > width) {\n\t\t\tthis.velocity.x = 0;\n\t\t}\n\t\tif (y < 0 || y > height) {\n\t\t\tthis.velocity.y = 0;\n\t\t}\n\n\t\tlet {x: px, y: py} = this.position;\n\n\t\tlet hitBorders = [];\n\t\tif (px == 0) {\n\t\t\thitBorders.push(0);\n\t\t} else if (px == width) {\n\t\t\thitBorders.push(2);\n\t\t}\n\t\tif (py == 0) {\n\t\t\thitBorders.push(1);\n\t\t} else if (py == height) {\n\t\t\thitBorders.push(3);\n\t\t}\n\n\t\tif(hitBorders.length > 0){\n\t\t\tbroadcast('onBallHitBorder', null, hitBorders)\n\t\t}\n\t}\n\n\tprivate onDevicerorientation = (event) => {\n\t\tconst {alpha, beta, gamma} = event;\n\n\t\tif (this.resetWhenNextFrame) {\n\t\t\tthis.resetWhenNextFrame = false;\n\n\t\t\tthis.offset.alpha = alpha * this.factor;\n\t\t\tthis.offset.beta = beta * this.factor;\n\t\t\tthis.offset.gamma = gamma * this.factor;\n\n\t\t\tthis.velocity.zero();\n\t\t}\n\n\t\tconst {alpha: alphaOff, beta: betaOff, gamma: gammaOff} = this.offset;\n\n\t\tthis.force.x = gamma * this.factor - gammaOff;\n\t\tthis.force.y = beta * this.factor - betaOff;\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/23.\n *\n * 游戏视图\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport {broadcast, getComponent} from \"@core/curse/Manager\";\nimport {Dispatcher} from \"@alienlib/support\";\nimport Ball from \"./game/Ball\";\nimport {distance} from \"@alienlib/tools/MathUtils\";\n\nexport default class GameView extends CurseComponent {\n\tcontainer: eui.Group = null;\n\tlabCD: eui.Label = null;\n\tlabScore: eui.Label = null;\n\n\tprivate containerSize;\n\tprivate targetPos;\n\tprivate ball;\n\n\tprivate counting;\n\tprivate seconds;\n\tprivate timerMain;\n\n\tprivate targetRadius;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\n\t\tthis.ball = getComponent(this.host.ball, Ball);\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\n\t}\n\n\treadyGo() {\n\t\tthis.updateSecond(0);\n\t\tthis.increaseCounting(0);\n\t}\n\n\tstartGame() {\n\t\tthis.targetPos = null;\n\t\tthis.timerMain = setInterval(this.onMainTimer, 1000);\n\t\tbroadcast('start');\n\t}\n\n\tstopGame() {\n\t\tclearInterval(this.timerMain);\n\t}\n\n\tprivate onMainTimer = () => {\n\t\tthis.updateSecond(this.seconds + 1);\n\t\tconst loopSeconds = this.seconds % 6;\n\t\tswitch (loopSeconds) {\n\t\t\tcase 0:\n\t\t\t\tthis.makeTarget();\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tthis.dealResult();\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\n\tprivate dealResult() {\n\t\tif (!this.targetPos) {\n\t\t\treturn;\n\t\t}\n\t\tconst {x, y} = this.ball.position;\n\t\tconst {x: tx, y: ty} = this.targetPos;\n\n\t\tconst success = distance(x, y, tx, ty) <= this.targetRadius;\n\t\tbroadcast('playResult', null, success ? 1 : 2);\n\t\tif (success) {\n\t\t\tthis.increaseCounting();\n\t\t} else {\n\t\t\tclearInterval(this.timerMain);\n\t\t\tbroadcast('stop');\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tbroadcast('endGame', null, this.counting);\n\t\t\t}, 500)\n\t\t}\n\t};\n\n\tmakeTarget() {\n\t\tif (!this.containerSize) {\n\t\t\tconst {width, height} = this.container;\n\t\t\tthis.containerSize = {width, height};\n\t\t}\n\n\t\tconst {width, height} = this.containerSize;\n\t\tconst pos = this.targetPos = {\n\t\t\tx: Math.random() * width,\n\t\t\ty: Math.random() * height,\n\t\t};\n\t\tthis.targetRadius = Math.max((10 - this.counting) * 10, 50);\n\t\tbroadcast('showTarget', null, pos, 4000, this.targetRadius)\n\t}\n\n\tprivate updateSecond(seconds) {\n\t\tthis.seconds = seconds;\n\t\tthis.labCD.text = seconds.toString();\n\t}\n\n\tprivate increaseCounting(t?) {\n\t\tif (t !== undefined) {\n\t\t\tthis.counting = t;\n\t\t} else {\n\t\t\tthis.counting++;\n\t\t}\n\t\tthis.labScore.text = this.counting.toString();\n\t}\n\n\tprivate onBallHitBorder(hitBorders) {\n\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/23.\n *\n *\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport {getWidth} from \"@alienlib/support/StageProxy\";\n\nexport default class ReadyGo extends CurseComponent {\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t}\n\n\tprotected awake() {\n\t\tsuper.awake();\n\n\t}\n\n\tprotected sleep() {\n\t\tsuper.sleep();\n\n\t}\n\n\tprotected destroy() {\n\t\tsuper.destroy();\n\n\t}\n\n\treset(){\n\t\tthis.host.visible = false;\n\t}\n\n\treadyGo(p) {\n\t\tconst sw = getWidth();\n\n\t\tconst {lab, bg} = this.host;\n\n\t\tlab.text = 'Ready';\n\t\tlab.horizontalCenter = -sw;\n\n\t\tthis.host.visible = true;\n\n\t\tegret.Tween.get(bg, null, null, true)\n\t\t\t.set({visible: true})\n\t\t\t.to({scaleY: 1}, 200, egret.Ease.cubicOut)\n\t\t\t.wait(2000)\n\t\t\t.to({scaleY: 0}, 200, egret.Ease.cubicIn);\n\n\t\tegret.Tween.get(lab, null, null, true)\n\t\t\t.wait(200)\n\t\t\t.to({horizontalCenter: 0}, 200, egret.Ease.cubicOut)\n\t\t\t.wait(600)\n\t\t\t.to({horizontalCenter: sw}, 200, egret.Ease.cubicIn)\n\t\t\t.set({\n\t\t\t\ttext: 'Go',\n\t\t\t\thorizontalCenter: -sw,\n\t\t\t})\n\t\t\t.to({horizontalCenter: 0}, 200, egret.Ease.cubicOut)\n\t\t\t.wait(600)\n\t\t\t.to({horizontalCenter: sw}, 200, egret.Ease.cubicIn)\n\t}\n}","/**\n * Created by rockyl on 2018/10/23.\n *\n *\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport {Dispatcher} from \"@alienlib/support\";\nimport {injectProp} from \"@alienlib/tools/Utils\";\n\nexport default class Target extends CurseComponent {\n\ttarget: eui.Rect = null;\n\tavatar: eui.Rect = null;\n\n\tcolors = [\n\t\t0x0091FF,\n\t\t0x8FFF00,\n\t\t0xFF0000,\n\t];\n\n\tstopGame(){\n\t\tegret.Tween.removeTweens(this.avatar);\n\t}\n\n\treset() {\n\t\tthis.avatar.strokeColor = this.colors[0];\n\n\t\treturn 100;\n\t}\n\n\treadyGo() {\n\t\tthis.host.visible = false;\n\t}\n\n\tshowTarget(pos, duration, toRadius) {\n\t\tconst {avatar, target} = this;\n\n\t\tconst fromRadius = toRadius + 200;\n\n\t\tthis.host.visible = true;\n\t\tinjectProp(this.host, {\n\t\t\tx: pos.x,\n\t\t\ty: pos.y,\n\t\t});\n\t\tinjectProp(avatar, {\n\t\t\twidth: fromRadius * 2,\n\t\t\theight: fromRadius * 2,\n\t\t\tanchorOffsetX: fromRadius,\n\t\t\tanchorOffsetY: fromRadius,\n\t\t\tstrokeColor: this.colors[0],\n\t\t});\n\t\tinjectProp(target, {\n\t\t\twidth: toRadius * 2,\n\t\t\theight: toRadius * 2,\n\t\t\tanchorOffsetX: toRadius,\n\t\t\tanchorOffsetY: toRadius,\n\t\t});\n\n\t\tegret.Tween.get(avatar, null, null, true)\n\t\t\t.to({\n\t\t\t\twidth: toRadius * 2,\n\t\t\t\theight: toRadius * 2,\n\t\t\t\tanchorOffsetX: toRadius,\n\t\t\t\tanchorOffsetY: toRadius,\n\t\t\t}, duration, egret.Ease.cubicInOut)\n\t}\n\n\tplayResult(result, count = 2) {\n\t\tconst tween = egret.Tween.get(this.avatar, null, null, true)\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\ttween\n\t\t\t\t.to({strokeColor: this.colors[result]})\n\t\t\t\t.wait(100)\n\t\t\t\t.to({strokeColor: this.colors[0]})\n\t\t\t\t.wait(100)\n\t\t}\n\t\ttween\n\t\t\t.set({strokeColor: this.colors[result]})\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/11.\n *\n * 规则弹窗\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport PanelController from \"@core/view/PanelController\";\nimport {PANEL_RULE} from \"../model/constants\";\nimport {getRule} from \"../net/api\";\nimport {parseHtmlText} from \"@alienlib/tools/Utils\";\n\nexport default class PanelRule extends CurseComponent {\n\tbutton: string;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tconst {labContent, btnConfirm} = this.host;\n\t\tlabContent.text= '';\n\t\tbtnConfirm.label = this.button;\n\n\t\tthis.readyRule();\n\n\t\tthis.registerEvent(btnConfirm, egret.TouchEvent.TOUCH_TAP, this.onBtnConfirmTap, this);\n\t}\n\n\tprivate async readyRule(){\n\t\tconst {labContent} = this.host;\n\n\t\tlet content = await getRule();\n\t\tlabContent.textFlow = parseHtmlText(content);\n\t}\n\n\tprivate onBtnConfirmTap(event) {\n\t\tPanelController.instance.dealAction(PANEL_RULE);\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/11.\n *\n * 结果弹窗\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport PanelController from \"@core/view/PanelController\";\nimport {PANEL_RESULT, } from \"../model/constants\";\nimport lang from \"@core/lang\";\n\nexport default class PanelResult extends CurseComponent {\n\tbtnRetry: eui.Button = null;\n\tbtnClose: eui.Button = null;\n\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tthis.host.addExcludeForClose(['retry']);\n\n\t\tthis.registerEvent(this.btnRetry, egret.TouchEvent.TOUCH_TAP, this.onBtnRetryTap, this);\n\t\tthis.registerEvent(this.btnClose, egret.TouchEvent.TOUCH_TAP, this.onBtnCloseTap, this);\n\t}\n\n\tprivate onBtnRetryTap(event) {\n\t\tPanelController.instance.dealAction(PANEL_RESULT, 'retry');\n\t}\n\n\tprivate onBtnCloseTap(event) {\n\t\tPanelController.instance.dealAction(PANEL_RESULT);\n\t}\n\n\tprotected awake(): void {\n\t\tsuper.awake();\n\n\t\tconst {labContent} = this.host;\n\n\t\tconst {score} = this.host.data;\n\t\tlabContent.text= lang.format(lang.result_text, score);\n\t}\n}\n","/**\n * Created by rockyl on 2018/10/11.\n *\n * 提示弹窗\n */\n\nimport CurseComponent from \"@core/curse/CurseComponent\";\nimport PanelController from \"@core/view/PanelController\";\nimport {PANEL_ALERT} from \"../model/constants\";\n\nexport default class PanelAlert extends CurseComponent {\n\tprotected onCreate() {\n\t\tsuper.onCreate();\n\n\t\tconst {btnConfirm} = this.host;\n\t\tthis.registerEvent(btnConfirm, egret.TouchEvent.TOUCH_TAP, this.onBtnConfirmTap, this);\n\t}\n\n\tprotected awake(): void {\n\t\tsuper.awake();\n\t\tconst {labContent, btnConfirm} = this.host;\n\n\t\tconst {content, button = 'Confirm'} = this.host.data;\n\t\tlabContent.text = content;\n\t\tbtnConfirm.label = button;\n\t}\n\n\tprivate onBtnConfirmTap(event) {\n\t\tPanelController.instance.dealAction(PANEL_ALERT);\n\t}\n}\n","import AssetAdapter from \"./view/adapters/AssetAdapter\";\nimport ThemeAdapter from \"./view/adapters/ThemeAdapter\";\nimport LoadingView from \"./view/LoadingView\";\nimport MainStage from \"./MainStage\";\nimport {Dispatcher} from \"@alienlib/support\";\nimport {init as initStageProxy} from \"@alienlib/support/StageProxy\";\nimport '../generated/MustCompile'\n\nexport default class MainBase extends eui.UILayer {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.once(egret.Event.ADDED_TO_STAGE, this.onAddedToStage, this);\n\t}\n\n\tprotected onAddedToStage() {\n\t\tDispatcher.init();\n\t\tinitStageProxy(this.stage, this);\n\n\t\tthis.stage.scaleMode = egret.Capabilities.isMobile ? egret.StageScaleMode.FIXED_WIDTH : egret.StageScaleMode.SHOW_ALL;\n\t\tthis.stage.orientation = egret.Capabilities.isMobile ? egret.OrientationMode.PORTRAIT : egret.OrientationMode.AUTO;\n\t}\n\n\tprotected createChildren(): void {\n\t\tsuper.createChildren();\n\n\t\tegret.registerImplementation(\"eui.IAssetAdapter\", new AssetAdapter());\n\t\tegret.registerImplementation(\"eui.IThemeAdapter\", new ThemeAdapter());\n\n\t\tthis.runGame().catch(e => {\n\t\t\tconsole.log(e);\n\t\t})\n\t}\n\n\tprivate async runGame() {\n\t\tawait this.loadResource();\n\t\tthis.createGameScene();\n\t}\n\n\tprivate async loadResource() {\n\t\ttry {\n\t\t\tegret.ImageLoader.crossOrigin = \"anonymous\";\n\t\t\tconst resBasePath = window['resPath'] || '';\n\t\t\tawait RES.loadConfig(\"default.res.json\", resBasePath + \"resource/\");\n\t\t\tawait this.loadTheme();\n\t\t\tlet loadingView = LoadingView.instance;\n\t\t\tthis.addChild(loadingView);\n\t\t\tawait RES.loadGroup(\"common\", 0, loadingView);\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\t}\n\n\tprivate loadTheme() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet theme = new eui.Theme(\"resource/default.thm.json\", this.stage);\n\t\t\ttheme.addEventListener(eui.UIEvent.COMPLETE, () => {\n\t\t\t\tresolve();\n\t\t\t}, this);\n\t\t})\n\t}\n\n\t/**\n\t * 创建场景界面\n\t * Create scene interface\n\t */\n\tprotected createGameScene(): void {\n\t\tlet mainStage:MainStage = MainStage.instance;\n\t\tthis.addChildAt(mainStage, 0);\n\t}\n}\n","import MainBase from './core/MainBase'\nimport GameConfig from \"./game/model/GameConfig\";\nimport {init as initLocalStorage} from \"@alienlib/support/LocalStorage\";\n\nclass Main extends MainBase {\n\n\tprotected onAddedToStage(): void {\n\t\tsuper.onAddedToStage();\n\n\t\tinitLocalStorage(GameConfig.gameName);\n\t}\n}\n"],"names":["init","tslib_1.__extends","Utils.injectProp","StringUtils.formatApply","ResourceLoader.load","StageProxy.getHeight","StageProxy.getWidth","StageProxy.getStage","onStageResize","index","initPopUpManager","readyCurseManager","LocalStorage.getItemObj","LocalStorage.setItemObj","Ajax.POST","Ajax.GET","EgretUtils.waitPromise","PopUpManager.removeAllPupUp","api.datapash","initStageProxy","initLocalStorage"],"mappings":"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C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;QAC7C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC9C,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/C,CAAC,GAAG,EAAE,C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"}